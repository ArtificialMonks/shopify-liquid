{%- comment -%} Paste inside a section's block loop: {% for block in section.blocks %} ... {% endfor %} {%- endcomment -%}
{%- assign u = block.id | replace: '_', '' | downcase -%}

{% style %}
  .img-text-{{ u }}{display:flex;align-items:center;gap:{{ block.settings.gap }}px;padding:{{ block.settings.pad }}px}
  .img-text__img-{{ u }} img{width:100%;height:auto;display:block;border-radius:{{ block.settings.radius }}px}
  .img-text__text-{{ u }}{color:{{ block.settings.text_color }};font-size:{{ block.settings.text_size }}px;line-height:1.6}
  {% if block.settings.layout == 'text_left' %}.img-text-{{ u }}{flex-direction:row}{% else %}.img-text-{{ u }}{flex-direction:row-reverse}{% endif %}
  @media(max-width:749px){.img-text-{{ u }}{flex-direction:column;gap:{{ block.settings.gap_mobile }}px;padding:{{ block.settings.pad_mobile }}px}.img-text__text-{{ u }}{font-size:{{ block.settings.text_size_mobile }}px}}
{% endstyle %}

<div class="img-text-{{ u }}" {{ block.shopify_attributes }}>
  <div class="img-text__img-{{ u }}">
    {% if block.settings.image %}
      <img src="{{ block.settings.image | image_url: width: 1200 }}" alt="{{ block.settings.image.alt | default: section.settings.heading | default: 'Image' | escape }}" loading="lazy">
    {% else %}
      <div class="img-text__ph-{{ u }}" aria-hidden="true" style="aspect-ratio:16/9;background:#f4f4f4;border-radius:{{ block.settings.radius }}px"></div>
    {% endif %}
  </div>
  <div class="img-text__text-{{ u }}">{% if block.settings.rte != blank %}{{ block.settings.rte }}{% else %}<h3>{{ block.settings.fallback_heading | default: 'Heading' | escape }}</h3><p>Add text in settings.</p>{% endif %}</div>
</div>

{%- comment -%} Block schema (add under section schema -> blocks[])
{"type":"img_text","name":"Image + Text","settings":[
{"type":"image_picker","id":"image","label":"Image"},
{"type":"richtext","id":"rte","label":"Text"},
{"type":"text","id":"fallback_heading","label":"Fallback heading"},
{"type":"select","id":"layout","label":"Layout","options":[{"value":"text_left","label":"Text left, image right"},{"value":"text_right","label":"Image left, text right"}],"default":"text_left"},
{"type":"range","id":"gap","label":"Gap","min":0,"max":100,"step":4,"unit":"px","default":24},
{"type":"range","id":"pad","label":"Padding","min":0,"max":100,"step":4,"unit":"px","default":24},
{"type":"range","id":"radius","label":"Image radius","min":0,"max":30,"step":2,"unit":"px","default":8},
{"type":"color","id":"text_color","label":"Text color","default":"#333333"},
{"type":"range","id":"text_size","label":"Text size","min":12,"max":28,"step":1,"unit":"px","default":16},
{"type":"range","id":"gap_mobile","label":"Mobile gap","min":0,"max":60,"step":4,"unit":"px","default":16},
{"type":"range","id":"pad_mobile","label":"Mobile padding","min":0,"max":60,"step":4,"unit":"px","default":16},
{"type":"range","id":"text_size_mobile","label":"Mobile text size","min":12,"max":24,"step":1,"unit":"px","default":14}
]}
{%- endcomment -%}

