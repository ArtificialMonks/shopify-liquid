{%- comment -%}
  Simple Hero Banner Section

  A clean, accessible hero banner with heading, subtext, and optional CTA.
  Follows production-ready patterns with CSS scoping and Core Web Vitals optimization.
{%- endcomment -%}

{%- liquid
  # Generate unique ID for CSS scoping
  assign unique = section.id | replace: '_', '' | downcase

  # Validate and set defaults
  assign heading = section.settings.heading | escape
  assign subtext = section.settings.subtext | escape
  assign button_text = section.settings.button_text | escape
  assign button_url = section.settings.button_url | default: '#'
  assign text_alignment = section.settings.text_alignment | default: 'center'
  assign background_color = section.settings.background_color | default: '#f8f9fa'
  assign text_color = section.settings.text_color | default: '#333333'
  assign button_style = section.settings.button_style | default: 'primary'

  # Background image handling
  assign background_image = section.settings.background_image
  assign image_overlay = section.settings.image_overlay | default: 0
-%}

{%- comment -%} CSS Scoping and Styles {%- endcomment -%}
{% style %}
  .hero-banner-{{ unique }} {
    background-color: {{ background_color }};
    color: {{ text_color }};
    padding: {{ section.settings.padding_top | default: 60 }}px 0 {{ section.settings.padding_bottom | default: 60 }}px;
    text-align: {{ text_alignment }};
    position: relative;
    overflow: hidden;
    min-height: {{ section.settings.min_height | default: 400 }}px;
    display: flex;
    align-items: center;
    contain: layout style;
  }

  .hero-banner-{{ unique }}.has-background-image {
    background-image: url('{{ background_image | image_url: width: 1920 }}');
    background-size: cover;
    background-position: {{ section.settings.image_position | default: 'center center' }};
    background-repeat: no-repeat;
  }

  .hero-banner-{{ unique }}__overlay {
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, {{ image_overlay | divided_by: 100.0 }});
    pointer-events: none;
  }

  .hero-banner-{{ unique }}__container {
    max-width: {{ section.settings.container_width | default: 1200 }}px;
    margin: 0 auto;
    padding: 0 20px;
    position: relative;
    z-index: 1;
    width: 100%;
  }

  .hero-banner-{{ unique }}__content {
    max-width: {{ section.settings.content_width | default: 600 }}px;
    margin: 0 auto;
  }

  .hero-banner-{{ unique }}__heading {
    font-size: {{ section.settings.heading_size | default: 48 }}px;
    font-weight: {{ section.settings.heading_weight | default: 700 }};
    line-height: 1.2;
    margin: 0 0 {{ section.settings.heading_margin | default: 20 }}px 0;
    color: inherit;
  }

  .hero-banner-{{ unique }}__subtext {
    font-size: {{ section.settings.subtext_size | default: 18 }}px;
    line-height: 1.6;
    margin: 0 0 {{ section.settings.subtext_margin | default: 30 }}px 0;
    opacity: 0.9;
  }

  .hero-banner-{{ unique }}__button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: {{ section.settings.button_padding | default: '12px 24px' }};
    font-size: {{ section.settings.button_size | default: 16 }}px;
    font-weight: 600;
    text-decoration: none;
    border-radius: {{ section.settings.button_radius | default: 4 }}px;
    transition: all 0.3s ease;
    min-height: 44px;
    min-width: 44px;
    border: 2px solid transparent;
  }

  .hero-banner-{{ unique }}__button--primary {
    background: {{ section.settings.button_bg | default: '#007cba' }};
    color: {{ section.settings.button_color | default: '#ffffff' }};
    border-color: {{ section.settings.button_bg | default: '#007cba' }};
  }

  .hero-banner-{{ unique }}__button--primary:hover {
    background: {{ section.settings.button_hover_bg | default: '#005a9e' }};
    border-color: {{ section.settings.button_hover_bg | default: '#005a9e' }};
    transform: translateY(-2px);
  }

  .hero-banner-{{ unique }}__button--secondary {
    background: transparent;
    color: {{ section.settings.button_secondary_color | default: text_color }};
    border-color: {{ section.settings.button_secondary_color | default: text_color }};
  }

  .hero-banner-{{ unique }}__button--secondary:hover {
    background: {{ section.settings.button_secondary_color | default: text_color }};
    color: {{ background_color }};
  }

  .hero-banner-{{ unique }}__button:focus {
    outline: 2px solid {{ section.settings.focus_color | default: '#007cba' }};
    outline-offset: 2px;
  }

  /* Mobile Responsive */
  @media screen and (max-width: 749px) {
    .hero-banner-{{ unique }} {
      padding: {{ section.settings.padding_top_mobile | default: 40 }}px 0 {{ section.settings.padding_bottom_mobile | default: 40 }}px;
      min-height: {{ section.settings.min_height_mobile | default: 300 }}px;
      text-align: center;
    }

    .hero-banner-{{ unique }}__container {
      padding: 0 16px;
    }

    .hero-banner-{{ unique }}__heading {
      font-size: {{ section.settings.heading_size_mobile | default: 32 }}px;
      margin-bottom: {{ section.settings.heading_margin_mobile | default: 16 }}px;
    }

    .hero-banner-{{ unique }}__subtext {
      font-size: {{ section.settings.subtext_size_mobile | default: 16 }}px;
      margin-bottom: {{ section.settings.subtext_margin_mobile | default: 24 }}px;
    }
  }

  /* Reduced Motion */
  @media (prefers-reduced-motion: reduce) {
    .hero-banner-{{ unique }}__button {
      transition: none;
    }

    .hero-banner-{{ unique }}__button:hover {
      transform: none;
    }
  }
{% endstyle %}

{%- comment -%} HTML Structure {%- endcomment -%}
<section
  class="hero-banner-{{ unique }}{% if background_image %} has-background-image{% endif %}"
  aria-labelledby="hero-heading-{{ unique }}"
  role="banner"
>
  {%- if background_image and image_overlay > 0 -%}
    <div class="hero-banner-{{ unique }}__overlay"></div>
  {%- endif -%}

  <div class="hero-banner-{{ unique }}__container">
    <div class="hero-banner-{{ unique }}__content">
      {%- if heading != blank -%}
        <h1 class="hero-banner-{{ unique }}__heading" id="hero-heading-{{ unique }}">
          {{ heading }}
        </h1>
      {%- endif -%}

      {%- if subtext != blank -%}
        <div class="hero-banner-{{ unique }}__subtext">
          {{ subtext }}
        </div>
      {%- endif -%}

      {%- if button_text != blank and button_url != blank -%}
        <a
          href="{{ button_url }}"
          class="hero-banner-{{ unique }}__button hero-banner-{{ unique }}__button--{{ button_style }}"
          {% if button_url contains 'http' %}target="_blank" rel="noopener"{% endif %}
        >
          {{ button_text }}
        </a>
      {%- endif -%}
    </div>
  </div>
</section>

{%- comment -%} Schema Configuration {%- endcomment -%}
{% schema %}
{
  "name": "Hero Banner",
  "tag": "section",
  "class": "hero-banner-section",
  "settings": [
    {
      "type": "header",
      "content": "Content Settings"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Welcome to Our Store"
    },
    {
      "type": "textarea",
      "id": "subtext",
      "label": "Subtext",
      "default": "Discover our amazing products and exceptional service."
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button Text",
      "default": "Shop Now"
    },
    {
      "type": "url",
      "id": "button_url",
      "label": "Button URL"
    },
    {
      "type": "select",
      "id": "button_style",
      "label": "Button Style",
      "options": [
        {
          "value": "primary",
          "label": "Primary"
        },
        {
          "value": "secondary",
          "label": "Secondary"
        }
      ],
      "default": "primary"
    },
    {
      "type": "header",
      "content": "Layout Settings"
    },
    {
      "type": "select",
      "id": "text_alignment",
      "label": "Text Alignment",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "center"
    },
    {
      "type": "range",
      "id": "min_height",
      "label": "Minimum Height (Desktop)",
      "min": 200,
      "max": 800,
      "step": 50,
      "unit": "px",
      "default": 400
    },
    {
      "type": "range",
      "id": "min_height_mobile",
      "label": "Minimum Height (Mobile)",
      "min": 200,
      "max": 600,
      "step": 50,
      "unit": "px",
      "default": 300
    },
    {
      "type": "range",
      "id": "container_width",
      "label": "Container Width",
      "min": 800,
      "max": 1400,
      "step": 50,
      "unit": "px",
      "default": 1200
    },
    {
      "type": "range",
      "id": "content_width",
      "label": "Content Width",
      "min": 400,
      "max": 800,
      "step": 50,
      "unit": "px",
      "default": 600
    },
    {
      "type": "header",
      "content": "Background Settings"
    },
    {
      "type": "image_picker",
      "id": "background_image",
      "label": "Background Image"
    },
    {
      "type": "select",
      "id": "image_position",
      "label": "Image Position",
      "options": [
        {
          "value": "top left",
          "label": "Top Left"
        },
        {
          "value": "top center",
          "label": "Top Center"
        },
        {
          "value": "top right",
          "label": "Top Right"
        },
        {
          "value": "center left",
          "label": "Center Left"
        },
        {
          "value": "center center",
          "label": "Center Center"
        },
        {
          "value": "center right",
          "label": "Center Right"
        },
        {
          "value": "bottom left",
          "label": "Bottom Left"
        },
        {
          "value": "bottom center",
          "label": "Bottom Center"
        },
        {
          "value": "bottom right",
          "label": "Bottom Right"
        }
      ],
      "default": "center center"
    },
    {
      "type": "range",
      "id": "image_overlay",
      "label": "Image Overlay Opacity",
      "min": 0,
      "max": 90,
      "step": 10,
      "unit": "%",
      "default": 0
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#f8f9fa"
    },
    {
      "type": "header",
      "content": "Typography"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color",
      "default": "#333333"
    },
    {
      "type": "range",
      "id": "heading_size",
      "label": "Heading Size (Desktop)",
      "min": 24,
      "max": 72,
      "step": 4,
      "unit": "px",
      "default": 48
    },
    {
      "type": "range",
      "id": "heading_size_mobile",
      "label": "Heading Size (Mobile)",
      "min": 20,
      "max": 48,
      "step": 4,
      "unit": "px",
      "default": 32
    },
    {
      "type": "range",
      "id": "subtext_size",
      "label": "Subtext Size (Desktop)",
      "min": 14,
      "max": 24,
      "step": 2,
      "unit": "px",
      "default": 18
    },
    {
      "type": "range",
      "id": "subtext_size_mobile",
      "label": "Subtext Size (Mobile)",
      "min": 14,
      "max": 20,
      "step": 2,
      "unit": "px",
      "default": 16
    },
    {
      "type": "header",
      "content": "Spacing"
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "Top Padding (Desktop)",
      "min": 0,
      "max": 120,
      "step": 10,
      "unit": "px",
      "default": 60
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "Bottom Padding (Desktop)",
      "min": 0,
      "max": 120,
      "step": 10,
      "unit": "px",
      "default": 60
    },
    {
      "type": "range",
      "id": "padding_top_mobile",
      "label": "Top Padding (Mobile)",
      "min": 0,
      "max": 80,
      "step": 10,
      "unit": "px",
      "default": 40
    },
    {
      "type": "range",
      "id": "padding_bottom_mobile",
      "label": "Bottom Padding (Mobile)",
      "min": 0,
      "max": 80,
      "step": 10,
      "unit": "px",
      "default": 40
    },
    {
      "type": "header",
      "content": "Button Colors"
    },
    {
      "type": "color",
      "id": "button_bg",
      "label": "Primary Button Background",
      "default": "#007cba"
    },
    {
      "type": "color",
      "id": "button_color",
      "label": "Primary Button Text",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "button_hover_bg",
      "label": "Primary Button Hover Background",
      "default": "#005a9e"
    },
    {
      "type": "color",
      "id": "button_secondary_color",
      "label": "Secondary Button Color",
      "default": "#333333"
    }
  ],
  "presets": [
    {
      "name": "Hero Banner",
      "settings": {
        "heading": "Welcome to Our Store",
        "subtext": "Discover our amazing products and exceptional service.",
        "button_text": "Shop Now",
        "text_alignment": "center"
      }
    }
  ]
}
{% endschema %}