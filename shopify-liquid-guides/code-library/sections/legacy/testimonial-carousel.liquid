{%- comment -%}
  Testimonial Carousel Section

  Customer testimonials carousel with star ratings, responsive design,
  and accessible navigation controls.
{%- endcomment -%}

{%- liquid
  # Generate unique ID for CSS scoping
  assign unique = section.id | replace: '_', '' | downcase

  # Section settings
  assign autoplay = section.settings.autoplay | default: true
  assign autoplay_speed = section.settings.autoplay_speed | default: 5000
  assign show_arrows = section.settings.show_arrows | default: true
  assign show_dots = section.settings.show_dots | default: true
-%}

{%- comment -%} CSS Scoping and Styles {%- endcomment -%}
{% style %}
  .testimonial-carousel-{{ unique }} {
    background: {{ section.settings.background_color | default: '#f8f9fa' }};
    padding: {{ section.settings.padding_top | default: 80 }}px 0 {{ section.settings.padding_bottom | default: 80 }}px;
    contain: layout style;
    position: relative;
  }

  .testimonial-carousel-{{ unique }}__container {
    max-width: {{ section.settings.container_width | default: 1200 }}px;
    margin: 0 auto;
    padding: 0 20px;
  }

  .testimonial-carousel-{{ unique }}__header {
    text-align: {{ section.settings.text_alignment | default: 'center' }};
    margin-bottom: {{ section.settings.header_margin | default: 60 }}px;
  }

  .testimonial-carousel-{{ unique }}__title {
    font-size: {{ section.settings.title_size | default: 40 }}px;
    font-weight: {{ section.settings.title_weight | default: 700 }};
    color: {{ section.settings.title_color | default: '#333333' }};
    margin: 0 0 {{ section.settings.title_margin | default: 16 }}px 0;
    line-height: 1.2;
  }

  .testimonial-carousel-{{ unique }}__description {
    font-size: {{ section.settings.description_size | default: 18 }}px;
    color: {{ section.settings.description_color | default: '#666666' }};
    line-height: 1.6;
    margin: 0;
  }

  .testimonial-carousel-{{ unique }}__slider {
    position: relative;
    overflow: hidden;
    border-radius: {{ section.settings.slider_radius | default: 12 }}px;
  }

  .testimonial-carousel-{{ unique }}__track {
    display: flex;
    transition: transform 0.5s ease;
    will-change: transform;
  }

  .testimonial-carousel-{{ unique }}__slide {
    min-width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: {{ section.settings.slide_padding | default: '40px 20px' }};
  }

  .testimonial-carousel-{{ unique }}__card {
    background: {{ section.settings.card_background | default: '#ffffff' }};
    padding: {{ section.settings.card_padding | default: '40px' }};
    border-radius: {{ section.settings.card_radius | default: 16 }}px;
    box-shadow: {{ section.settings.card_shadow | default: '0 8px 30px rgba(0, 0, 0, 0.12)' }};
    text-align: center;
    max-width: {{ section.settings.card_max_width | default: 600 }}px;
    width: 100%;
    position: relative;
    border: {{ section.settings.card_border_width | default: 1 }}px solid {{ section.settings.card_border_color | default: '#e5e5e5' }};
  }

  .testimonial-carousel-{{ unique }}__quote {
    font-size: {{ section.settings.quote_size | default: 20 }}px;
    color: {{ section.settings.quote_color | default: '#333333' }};
    line-height: 1.6;
    margin: 0 0 {{ section.settings.quote_margin | default: 30 }}px 0;
    font-style: italic;
    position: relative;
  }

  .testimonial-carousel-{{ unique }}__quote::before {
    content: '"';
    font-size: {{ section.settings.quote_mark_size | default: 60 }}px;
    color: {{ section.settings.quote_mark_color | default: '#007cba' }};
    position: absolute;
    top: -{{ section.settings.quote_mark_offset | default: 10 }}px;
    left: -{{ section.settings.quote_mark_offset | default: 20 }}px;
    line-height: 1;
    font-family: Georgia, serif;
    opacity: 0.3;
  }

  .testimonial-carousel-{{ unique }}__rating {
    display: flex;
    justify-content: center;
    gap: 4px;
    margin-bottom: {{ section.settings.rating_margin | default: 20 }}px;
  }

  .testimonial-carousel-{{ unique }}__star {
    width: {{ section.settings.star_size | default: 20 }}px;
    height: {{ section.settings.star_size | default: 20 }}px;
    color: {{ section.settings.star_color | default: '#ffc107' }};
  }

  .testimonial-carousel-{{ unique }}__star--empty {
    color: {{ section.settings.star_empty_color | default: '#e0e0e0' }};
  }

  .testimonial-carousel-{{ unique }}__author {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: {{ section.settings.author_gap | default: 16 }}px;
  }

  .testimonial-carousel-{{ unique }}__avatar {
    width: {{ section.settings.avatar_size | default: 60 }}px;
    height: {{ section.settings.avatar_size | default: 60 }}px;
    border-radius: 50%;
    object-fit: cover;
    border: {{ section.settings.avatar_border_width | default: 3 }}px solid {{ section.settings.avatar_border_color | default: '#ffffff' }};
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  }

  .testimonial-carousel-{{ unique }}__author-info {
    text-align: left;
  }

  .testimonial-carousel-{{ unique }}__name {
    font-size: {{ section.settings.name_size | default: 18 }}px;
    font-weight: {{ section.settings.name_weight | default: 600 }};
    color: {{ section.settings.name_color | default: '#333333' }};
    margin: 0 0 4px 0;
    line-height: 1.2;
  }

  .testimonial-carousel-{{ unique }}__position {
    font-size: {{ section.settings.position_size | default: 14 }}px;
    color: {{ section.settings.position_color | default: '#666666' }};
    margin: 0;
    line-height: 1.3;
  }

  .testimonial-carousel-{{ unique }}__controls {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: {{ section.settings.controls_gap | default: 30 }}px;
    margin-top: {{ section.settings.controls_margin | default: 40 }}px;
  }

  .testimonial-carousel-{{ unique }}__arrow {
    background: {{ section.settings.arrow_background | default: '#ffffff' }};
    border: 2px solid {{ section.settings.arrow_border_color | default: '#e5e5e5' }};
    border-radius: 50%;
    width: {{ section.settings.arrow_size | default: 50 }}px;
    height: {{ section.settings.arrow_size | default: 50 }}px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
    color: {{ section.settings.arrow_color | default: '#333333' }};
  }

  .testimonial-carousel-{{ unique }}__arrow:hover {
    background: {{ section.settings.arrow_hover_bg | default: '#007cba' }};
    border-color: {{ section.settings.arrow_hover_border | default: '#007cba' }};
    color: {{ section.settings.arrow_hover_color | default: '#ffffff' }};
    transform: scale(1.05);
  }

  .testimonial-carousel-{{ unique }}__arrow:focus {
    outline: 2px solid {{ section.settings.focus_color | default: '#007cba' }};
    outline-offset: 2px;
  }

  .testimonial-carousel-{{ unique }}__arrow:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    pointer-events: none;
  }

  .testimonial-carousel-{{ unique }}__arrow svg {
    width: 20px;
    height: 20px;
  }

  .testimonial-carousel-{{ unique }}__dots {
    display: flex;
    justify-content: center;
    gap: {{ section.settings.dots_gap | default: 12 }}px;
  }

  .testimonial-carousel-{{ unique }}__dot {
    width: {{ section.settings.dot_size | default: 12 }}px;
    height: {{ section.settings.dot_size | default: 12 }}px;
    border-radius: 50%;
    background: {{ section.settings.dot_color | default: '#cccccc' }};
    border: none;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .testimonial-carousel-{{ unique }}__dot--active {
    background: {{ section.settings.dot_active_color | default: '#007cba' }};
    transform: scale(1.2);
  }

  .testimonial-carousel-{{ unique }}__dot:focus {
    outline: 2px solid {{ section.settings.focus_color | default: '#007cba' }};
    outline-offset: 2px;
  }

  /* Mobile Responsive */
  @media screen and (max-width: 749px) {
    .testimonial-carousel-{{ unique }} {
      padding: {{ section.settings.padding_top_mobile | default: 50 }}px 0 {{ section.settings.padding_bottom_mobile | default: 50 }}px;
    }

    .testimonial-carousel-{{ unique }}__container {
      padding: 0 16px;
    }

    .testimonial-carousel-{{ unique }}__title {
      font-size: {{ section.settings.title_size_mobile | default: 32 }}px;
    }

    .testimonial-carousel-{{ unique }}__description {
      font-size: {{ section.settings.description_size_mobile | default: 16 }}px;
    }

    .testimonial-carousel-{{ unique }}__card {
      padding: {{ section.settings.card_padding_mobile | default: '30px 20px' }};
    }

    .testimonial-carousel-{{ unique }}__quote {
      font-size: {{ section.settings.quote_size_mobile | default: 18 }}px;
    }

    .testimonial-carousel-{{ unique }}__author {
      flex-direction: column;
      text-align: center;
    }

    .testimonial-carousel-{{ unique }}__author-info {
      text-align: center;
    }

    .testimonial-carousel-{{ unique }}__controls {
      gap: {{ section.settings.controls_gap_mobile | default: 20 }}px;
      margin-top: {{ section.settings.controls_margin_mobile | default: 30 }}px;
    }

    .testimonial-carousel-{{ unique }}__header {
      margin-bottom: {{ section.settings.header_margin_mobile | default: 40 }}px;
    }
  }

  /* Reduced Motion */
  @media (prefers-reduced-motion: reduce) {
    .testimonial-carousel-{{ unique }}__track {
      transition: none;
    }

    .testimonial-carousel-{{ unique }}__arrow {
      transition: none;
    }

    .testimonial-carousel-{{ unique }}__arrow:hover {
      transform: none;
    }

    .testimonial-carousel-{{ unique }}__dot {
      transition: none;
    }

    .testimonial-carousel-{{ unique }}__dot--active {
      transform: scale(1);
    }
  }
{% endstyle %}

{%- comment -%} JavaScript for Carousel Functionality {%- endcomment -%}
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const carousel = document.querySelector('.testimonial-carousel-{{ unique }}__slider');
    const track = carousel.querySelector('.testimonial-carousel-{{ unique }}__track');
    const slides = carousel.querySelectorAll('.testimonial-carousel-{{ unique }}__slide');
    const prevButton = document.querySelector('.testimonial-carousel-{{ unique }}__arrow--prev');
    const nextButton = document.querySelector('.testimonial-carousel-{{ unique }}__arrow--next');
    const dots = document.querySelectorAll('.testimonial-carousel-{{ unique }}__dot');

    let currentSlide = 0;
    const totalSlides = slides.length;
    let autoplayInterval;

    function updateSlide(index) {
      currentSlide = index;
      track.style.transform = `translateX(-${currentSlide * 100}%)`;

      // Update dots
      dots.forEach((dot, i) => {
        dot.classList.toggle('testimonial-carousel-{{ unique }}__dot--active', i === currentSlide);
        dot.setAttribute('aria-selected', i === currentSlide ? 'true' : 'false');
      });

      // Update arrows
      if (prevButton) prevButton.disabled = currentSlide === 0;
      if (nextButton) nextButton.disabled = currentSlide === totalSlides - 1;

      // Announce to screen readers
      const announcement = `Testimonial ${currentSlide + 1} of ${totalSlides}`;
      const srAnnouncer = document.getElementById('testimonial-announcer-{{ unique }}');
      if (srAnnouncer) srAnnouncer.textContent = announcement;
    }

    function nextSlide() {
      if (currentSlide < totalSlides - 1) {
        updateSlide(currentSlide + 1);
      } else if ({{ section.settings.infinite_loop | default: true }}) {
        updateSlide(0);
      }
    }

    function prevSlide() {
      if (currentSlide > 0) {
        updateSlide(currentSlide - 1);
      } else if ({{ section.settings.infinite_loop | default: true }}) {
        updateSlide(totalSlides - 1);
      }
    }

    function startAutoplay() {
      if ({{ autoplay }} && totalSlides > 1) {
        autoplayInterval = setInterval(() => {
          nextSlide();
        }, {{ autoplay_speed }});
      }
    }

    function stopAutoplay() {
      if (autoplayInterval) {
        clearInterval(autoplayInterval);
      }
    }

    // Event listeners
    if (nextButton) {
      nextButton.addEventListener('click', () => {
        stopAutoplay();
        nextSlide();
        startAutoplay();
      });
    }

    if (prevButton) {
      prevButton.addEventListener('click', () => {
        stopAutoplay();
        prevSlide();
        startAutoplay();
      });
    }

    dots.forEach((dot, index) => {
      dot.addEventListener('click', () => {
        stopAutoplay();
        updateSlide(index);
        startAutoplay();
      });
    });

    // Pause autoplay on hover
    carousel.addEventListener('mouseenter', stopAutoplay);
    carousel.addEventListener('mouseleave', startAutoplay);

    // Pause autoplay when carousel is not visible
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          startAutoplay();
        } else {
          stopAutoplay();
        }
      });
    });

    observer.observe(carousel);

    // Initialize
    updateSlide(0);
    startAutoplay();

    // Keyboard navigation
    carousel.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowLeft') {
        e.preventDefault();
        prevSlide();
      } else if (e.key === 'ArrowRight') {
        e.preventDefault();
        nextSlide();
      }
    });
  });
</script>

{%- comment -%} HTML Structure {%- endcomment -%}
<section
  class="testimonial-carousel-{{ unique }}"
  aria-labelledby="testimonials-heading-{{ unique }}"
>
  <div class="testimonial-carousel-{{ unique }}__container">
    {%- if section.settings.title != blank or section.settings.description != blank -%}
      <div class="testimonial-carousel-{{ unique }}__header">
        {%- if section.settings.title != blank -%}
          <h2 class="testimonial-carousel-{{ unique }}__title" id="testimonials-heading-{{ unique }}">
            {{ section.settings.title | escape }}
          </h2>
        {%- endif -%}

        {%- if section.settings.description != blank -%}
          <div class="testimonial-carousel-{{ unique }}__description">
            {{ section.settings.description }}
          </div>
        {%- endif -%}
      </div>
    {%- endif -%}

    {%- if section.blocks.size > 0 -%}
      <div
        class="testimonial-carousel-{{ unique }}__slider"
        aria-live="polite"
        aria-label="Customer testimonials"
        tabindex="0"
      >
        <div class="testimonial-carousel-{{ unique }}__track">
          {%- for block in section.blocks -%}
            {%- if block.type == 'testimonial' -%}
              <div class="testimonial-carousel-{{ unique }}__slide" {{ block.shopify_attributes }}>
                <div class="testimonial-carousel-{{ unique }}__card">
                  {%- if block.settings.quote != blank -%}
                    <blockquote class="testimonial-carousel-{{ unique }}__quote">
                      {{ block.settings.quote | escape }}
                    </blockquote>
                  {%- endif -%}

                  {%- if block.settings.rating > 0 -%}
                    <div class="testimonial-carousel-{{ unique }}__rating" aria-label="Rating: {{ block.settings.rating }} out of 5 stars">
                      {%- for i in (1..5) -%}
                        <svg
                          class="testimonial-carousel-{{ unique }}__star{% unless i <= block.settings.rating %} testimonial-carousel-{{ unique }}__star--empty{% endunless %}"
                          viewBox="0 0 24 24"
                          fill="currentColor"
                          aria-hidden="true"
                        >
                          <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>
                        </svg>
                      {%- endfor -%}
                    </div>
                  {%- endif -%}

                  <div class="testimonial-carousel-{{ unique }}__author">
                    {%- if block.settings.avatar != blank -%}
                      <img
                        class="testimonial-carousel-{{ unique }}__avatar"
                        src="{{ block.settings.avatar | image_url: width: 120 }}"
                        alt="{{ block.settings.author_name | default: 'Customer' | escape }}"
                        loading="lazy"
                        width="60"
                        height="60"
                      >
                    {%- endif -%}

                    <div class="testimonial-carousel-{{ unique }}__author-info">
                      {%- if block.settings.author_name != blank -%}
                        <cite class="testimonial-carousel-{{ unique }}__name">
                          {{ block.settings.author_name | escape }}
                        </cite>
                      {%- endif -%}

                      {%- if block.settings.author_position != blank -%}
                        <div class="testimonial-carousel-{{ unique }}__position">
                          {{ block.settings.author_position | escape }}
                        </div>
                      {%- endif -%}
                    </div>
                  </div>
                </div>
              </div>
            {%- endif -%}
          {%- endfor -%}
        </div>
      </div>

      {%- if section.blocks.size > 1 -%}
        <div class="testimonial-carousel-{{ unique }}__controls">
          {%- if show_arrows -%}
            <button
              class="testimonial-carousel-{{ unique }}__arrow testimonial-carousel-{{ unique }}__arrow--prev"
              aria-label="Previous testimonial"
              type="button"
            >
              <svg viewBox="0 0 24 24" fill="currentColor">
                <path d="M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"/>
              </svg>
            </button>
          {%- endif -%}

          {%- if show_dots -%}
            <div class="testimonial-carousel-{{ unique }}__dots" role="tablist" aria-label="Testimonial navigation">
              {%- for block in section.blocks -%}
                {%- if block.type == 'testimonial' -%}
                  <button
                    class="testimonial-carousel-{{ unique }}__dot{% if forloop.first %} testimonial-carousel-{{ unique }}__dot--active{% endif %}"
                    role="tab"
                    aria-selected="{% if forloop.first %}true{% else %}false{% endif %}"
                    aria-label="Go to testimonial {{ forloop.index }}"
                    type="button"
                  ></button>
                {%- endif -%}
              {%- endfor -%}
            </div>
          {%- endif -%}

          {%- if show_arrows -%}
            <button
              class="testimonial-carousel-{{ unique }}__arrow testimonial-carousel-{{ unique }}__arrow--next"
              aria-label="Next testimonial"
              type="button"
            >
              <svg viewBox="0 0 24 24" fill="currentColor">
                <path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/>
              </svg>
            </button>
          {%- endif -%}
        </div>
      {%- endif -%}

      <!-- Screen reader announcements -->
      <div id="testimonial-announcer-{{ unique }}" class="sr-only" aria-live="polite" aria-atomic="true"></div>

    {%- else -%}
      <div class="testimonial-carousel-{{ unique }}__empty">
        <p>{{ 'sections.testimonials.empty' | t }}</p>
      </div>
    {%- endif -%}
  </div>
</section>

<style>
  .sr-only {
    position: absolute !important;
    width: 1px !important;
    height: 1px !important;
    padding: 0 !important;
    margin: -1px !important;
    overflow: hidden !important;
    clip: rect(0, 0, 0, 0) !important;
    white-space: nowrap !important;
    border: 0 !important;
  }
</style>

{%- comment -%} Schema Configuration {%- endcomment -%}
{% schema %}
{
  "name": "Testimonial Carousel",
  "tag": "section",
  "class": "testimonial-carousel-section",
  "settings": [
    {
      "type": "header",
      "content": "Content Settings"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Section Title",
      "default": "What Our Customers Say"
    },
    {
      "type": "richtext",
      "id": "description",
      "label": "Description"
    },
    {
      "type": "select",
      "id": "text_alignment",
      "label": "Text Alignment",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "center"
    },
    {
      "type": "header",
      "content": "Carousel Settings"
    },
    {
      "type": "checkbox",
      "id": "autoplay",
      "label": "Enable Autoplay",
      "default": true
    },
    {
      "type": "range",
      "id": "autoplay_speed",
      "label": "Autoplay Speed",
      "min": 3000,
      "max": 10000,
      "step": 1000,
      "unit": "ms",
      "default": 5000
    },
    {
      "type": "checkbox",
      "id": "infinite_loop",
      "label": "Infinite Loop",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_arrows",
      "label": "Show Navigation Arrows",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_dots",
      "label": "Show Dot Navigation",
      "default": true
    },
    {
      "type": "header",
      "content": "Layout Settings"
    },
    {
      "type": "range",
      "id": "container_width",
      "label": "Container Width",
      "min": 800,
      "max": 1400,
      "step": 50,
      "unit": "px",
      "default": 1200
    },
    {
      "type": "range",
      "id": "card_max_width",
      "label": "Card Maximum Width",
      "min": 400,
      "max": 800,
      "step": 50,
      "unit": "px",
      "default": 600
    },
    {
      "type": "header",
      "content": "Card Styling"
    },
    {
      "type": "color",
      "id": "card_background",
      "label": "Card Background",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "card_border_color",
      "label": "Card Border Color",
      "default": "#e5e5e5"
    },
    {
      "type": "range",
      "id": "card_radius",
      "label": "Card Border Radius",
      "min": 0,
      "max": 24,
      "step": 4,
      "unit": "px",
      "default": 16
    },
    {
      "type": "header",
      "content": "Typography"
    },
    {
      "type": "color",
      "id": "title_color",
      "label": "Title Color",
      "default": "#333333"
    },
    {
      "type": "color",
      "id": "description_color",
      "label": "Description Color",
      "default": "#666666"
    },
    {
      "type": "color",
      "id": "quote_color",
      "label": "Quote Color",
      "default": "#333333"
    },
    {
      "type": "color",
      "id": "quote_mark_color",
      "label": "Quote Mark Color",
      "default": "#007cba"
    },
    {
      "type": "color",
      "id": "name_color",
      "label": "Author Name Color",
      "default": "#333333"
    },
    {
      "type": "color",
      "id": "position_color",
      "label": "Author Position Color",
      "default": "#666666"
    },
    {
      "type": "header",
      "content": "Star Rating"
    },
    {
      "type": "color",
      "id": "star_color",
      "label": "Star Color",
      "default": "#ffc107"
    },
    {
      "type": "color",
      "id": "star_empty_color",
      "label": "Empty Star Color",
      "default": "#e0e0e0"
    },
    {
      "type": "range",
      "id": "star_size",
      "label": "Star Size",
      "min": 16,
      "max": 32,
      "step": 4,
      "unit": "px",
      "default": 20
    },
    {
      "type": "header",
      "content": "Navigation"
    },
    {
      "type": "color",
      "id": "arrow_background",
      "label": "Arrow Background",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "arrow_color",
      "label": "Arrow Color",
      "default": "#333333"
    },
    {
      "type": "color",
      "id": "arrow_hover_bg",
      "label": "Arrow Hover Background",
      "default": "#007cba"
    },
    {
      "type": "color",
      "id": "arrow_hover_color",
      "label": "Arrow Hover Color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "dot_color",
      "label": "Dot Color",
      "default": "#cccccc"
    },
    {
      "type": "color",
      "id": "dot_active_color",
      "label": "Active Dot Color",
      "default": "#007cba"
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#f8f9fa"
    },
    {
      "type": "header",
      "content": "Spacing"
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "Top Padding (Desktop)",
      "min": 20,
      "max": 150,
      "step": 10,
      "unit": "px",
      "default": 80
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "Bottom Padding (Desktop)",
      "min": 20,
      "max": 150,
      "step": 10,
      "unit": "px",
      "default": 80
    },
    {
      "type": "range",
      "id": "padding_top_mobile",
      "label": "Top Padding (Mobile)",
      "min": 20,
      "max": 100,
      "step": 10,
      "unit": "px",
      "default": 50
    },
    {
      "type": "range",
      "id": "padding_bottom_mobile",
      "label": "Bottom Padding (Mobile)",
      "min": 20,
      "max": 100,
      "step": 10,
      "unit": "px",
      "default": 50
    }
  ],
  "blocks": [
    {
      "type": "testimonial",
      "name": "Testimonial",
      "settings": [
        {
          "type": "textarea",
          "id": "quote",
          "label": "Testimonial Quote",
          "default": "This product exceeded my expectations. The quality is outstanding and the customer service is amazing!"
        },
        {
          "type": "range",
          "id": "rating",
          "label": "Star Rating",
          "min": 1,
          "max": 5,
          "step": 1,
          "default": 5
        },
        {
          "type": "text",
          "id": "author_name",
          "label": "Author Name",
          "default": "Sarah Johnson"
        },
        {
          "type": "text",
          "id": "author_position",
          "label": "Author Position/Company",
          "default": "Verified Customer"
        },
        {
          "type": "image_picker",
          "id": "avatar",
          "label": "Author Avatar"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Testimonial Carousel",
      "blocks": [
        {
          "type": "testimonial",
          "settings": {
            "quote": "This product exceeded my expectations. The quality is outstanding and the customer service is amazing!",
            "rating": 5,
            "author_name": "Sarah Johnson",
            "author_position": "Verified Customer"
          }
        },
        {
          "type": "testimonial",
          "settings": {
            "quote": "Fast shipping, great quality, and excellent value for money. I'll definitely be ordering again!",
            "rating": 5,
            "author_name": "Michael Chen",
            "author_position": "Repeat Customer"
          }
        },
        {
          "type": "testimonial",
          "settings": {
            "quote": "The team went above and beyond to help me find exactly what I needed. Highly recommended!",
            "rating": 5,
            "author_name": "Emily Rodriguez",
            "author_position": "Small Business Owner"
          }
        }
      ]
    }
  ]
}
{% endschema %}