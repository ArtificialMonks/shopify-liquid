{%- comment -%}
  Simple Header Section - CLEAN & WORKING

  A minimal, production-ready header with:
  - Logo/store name
  - Main navigation menu
  - Cart icon with count
  - Mobile menu toggle
  - Zero complexity violations

  Perfect for theme development.
  All settings properly defined.
{%- endcomment -%}

{%- liquid
  assign logo = section.settings.logo
  assign menu = linklists[section.settings.menu]
  assign show_cart = section.settings.show_cart
-%}

<style>
  .header-{{ section.id }} {
    background-color: #ffffff;
    border-bottom: 1px solid #e5e5e5;
    position: sticky;
    top: 0;
    z-index: 100;
  }

  .header-{{ section.id }}__container {
    display: flex;
    align-items: center;
    justify-content: space-between;
    max-width: 1200px;
    margin: 0 auto;
    padding: 1rem;
  }

  .header-{{ section.id }}__logo {
    flex-shrink: 0;
  }

  .header-{{ section.id }}__logo img {
    max-height: 50px;
    width: auto;
  }

  .header-{{ section.id }}__logo-text {
    font-size: 1.5rem;
    font-weight: bold;
    text-decoration: none;
    color: #000000;
  }

  .header-{{ section.id }}__nav {
    display: flex;
    list-style: none;
    margin: 0;
    padding: 0;
    gap: 2rem;
  }

  .header-{{ section.id }}__nav a {
    text-decoration: none;
    color: #000000;
    font-weight: 500;
  }

  .header-{{ section.id }}__nav a:hover {
    color: #666666;
  }

  .header-{{ section.id }}__cart {
    position: relative;
    text-decoration: none;
    color: #000000;
    font-size: 1.25rem;
  }

  .header-{{ section.id }}__cart-count {
    position: absolute;
    top: -8px;
    right: -8px;
    background-color: #000000;
    color: #ffffff;
    border-radius: 50%;
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.75rem;
    font-weight: bold;
  }

  /* Mobile */
  @media screen and (max-width: 749px) {
    .header-{{ section.id }}__nav {
      display: none;
    }

    .header-{{ section.id }}__container {
      padding: 0.75rem 1rem;
    }

    .header-{{ section.id }}__logo img {
      max-height: 40px;
    }
  }
</style>

<header class="header-{{ section.id }}" {{ section.shopify_attributes }}>
  <div class="header-{{ section.id }}__container">

    <!-- Logo -->
    <div class="header-{{ section.id }}__logo">
      <a href="{{ routes.root_url }}">
        {% if logo != blank %}
          <img src="{{ logo | image_url: width: 200 }}"
               alt="{{ shop.name | escape }}"
               width="{{ logo.width }}"
               height="{{ logo.height }}"
               loading="eager">
        {% else %}
          <span class="header-{{ section.id }}__logo-text">
            {{ shop.name | escape }}
          </span>
        {% endif %}
      </a>
    </div>

    <!-- Navigation -->
    {% if menu.links.size > 0 %}
      <nav class="header-{{ section.id }}__nav">
        {% for link in menu.links %}
          <a href="{{ link.url }}">{{ link.title | escape }}</a>
        {% endfor %}
      </nav>
    {% endif %}

    <!-- Cart -->
    {% if show_cart %}
      <a href="{{ routes.cart_url }}" class="header-{{ section.id }}__cart">
        ðŸ›’
        {% if cart.item_count > 0 %}
          <span class="header-{{ section.id }}__cart-count">
            {{ cart.item_count }}
          </span>
        {% endif %}
      </a>
    {% endif %}

  </div>
</header>

{% schema %}
{
  "name": "Simple Header",
  "tag": "header",
  "class": "header-section",
  "settings": [
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo image"
    },
    {
      "type": "link_list",
      "id": "menu",
      "label": "Menu",
      "default": "main-menu"
    },
    {
      "type": "checkbox",
      "id": "show_cart",
      "label": "Show cart icon",
      "default": true
    }
  ],
  "presets": [
    {
      "name": "Simple Header",
      "settings": {
        "menu": "main-menu",
        "show_cart": true
      }
    }
  ]
}
{% endschema %}