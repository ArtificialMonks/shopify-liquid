{%- comment -%}
  Footer Section

  Complete footer with newsletter signup, social links, navigation,
  and contact information. Theme Store requirement for all themes.
{%- endcomment -%}

{%- liquid
  # Generate unique ID for CSS scoping
  assign unique = section.id | replace: '_', '' | downcase

  # Footer settings
  assign show_payment_icons = section.settings.show_payment_icons | default: true
  assign copyright_text = section.settings.copyright_text
-%}

{%- comment -%} CSS Scoping and Styles {%- endcomment -%}
{% style %}
  .footer-{{ unique }} {
    background: {{ section.settings.background_color | default: '#f8f9fa' }};
    color: {{ section.settings.text_color | default: '#333333' }};
    padding: {{ section.settings.padding_top | default: 60 }}px 0 {{ section.settings.padding_bottom | default: 40 }}px;
    border-top: {{ section.settings.border_width | default: 1 }}px solid {{ section.settings.border_color | default: '#e5e5e5' }};
    contain: layout style;
  }

  .footer-{{ unique }}__container {
    max-width: {{ section.settings.container_width | default: 1200 }}px;
    margin: 0 auto;
    padding: 0 {{ section.settings.horizontal_padding | default: 20 }}px;
  }

  .footer-{{ unique }}__main {
    display: grid;
    grid-template-columns: repeat({{ section.settings.columns_desktop | default: 4 }}, 1fr);
    gap: {{ section.settings.column_gap | default: 40 }}px;
    margin-bottom: {{ section.settings.main_margin | default: 40 }}px;
  }

  .footer-{{ unique }}__column {
    display: flex;
    flex-direction: column;
  }

  .footer-{{ unique }}__column-title {
    font-size: {{ section.settings.column_title_size | default: 18 }}px;
    font-weight: {{ section.settings.column_title_weight | default: 600 }};
    color: {{ section.settings.column_title_color | default: '#333333' }};
    margin: 0 0 {{ section.settings.column_title_margin | default: 20 }}px 0;
    line-height: 1.3;
  }

  .footer-{{ unique }}__nav-list {
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    gap: {{ section.settings.nav_gap | default: 12 }}px;
  }

  .footer-{{ unique }}__nav-link {
    color: {{ section.settings.nav_color | default: '#666666' }};
    text-decoration: none;
    font-size: {{ section.settings.nav_font_size | default: 14 }}px;
    line-height: 1.4;
    transition: color 0.3s ease;
    padding: 4px 0;
  }

  .footer-{{ unique }}__nav-link:hover {
    color: {{ section.settings.nav_hover_color | default: '#007cba' }};
  }

  .footer-{{ unique }}__nav-link:focus {
    outline: 2px solid {{ section.settings.focus_color | default: '#007cba' }};
    outline-offset: 2px;
    border-radius: 4px;
  }

  .footer-{{ unique }}__contact-info {
    display: flex;
    flex-direction: column;
    gap: {{ section.settings.contact_gap | default: 12 }}px;
  }

  .footer-{{ unique }}__contact-item {
    display: flex;
    align-items: flex-start;
    gap: {{ section.settings.contact_icon_gap | default: 12 }}px;
    font-size: {{ section.settings.contact_font_size | default: 14 }}px;
    line-height: 1.4;
    color: {{ section.settings.contact_color | default: '#666666' }};
  }

  .footer-{{ unique }}__contact-icon {
    width: {{ section.settings.contact_icon_size | default: 18 }}px;
    height: {{ section.settings.contact_icon_size | default: 18 }}px;
    color: {{ section.settings.contact_icon_color | default: '#007cba' }};
    flex-shrink: 0;
    margin-top: 2px;
  }

  .footer-{{ unique }}__contact-text {
    margin: 0;
  }

  .footer-{{ unique }}__contact-link {
    color: inherit;
    text-decoration: none;
    transition: color 0.3s ease;
  }

  .footer-{{ unique }}__contact-link:hover {
    color: {{ section.settings.contact_hover_color | default: '#007cba' }};
  }

  .footer-{{ unique }}__newsletter {
    background: {{ section.settings.newsletter_bg | default: '#ffffff' }};
    padding: {{ section.settings.newsletter_padding | default: '30px' }};
    border-radius: {{ section.settings.newsletter_radius | default: 12 }}px;
    border: {{ section.settings.newsletter_border_width | default: 1 }}px solid {{ section.settings.newsletter_border_color | default: '#e5e5e5' }};
    box-shadow: {{ section.settings.newsletter_shadow | default: '0 4px 12px rgba(0, 0, 0, 0.05)' }};
  }

  .footer-{{ unique }}__newsletter-heading {
    font-size: {{ section.settings.newsletter_heading_size | default: 20 }}px;
    font-weight: {{ section.settings.newsletter_heading_weight | default: 600 }};
    color: {{ section.settings.newsletter_heading_color | default: '#333333' }};
    margin: 0 0 {{ section.settings.newsletter_heading_margin | default: 8 }}px 0;
    line-height: 1.3;
  }

  .footer-{{ unique }}__newsletter-text {
    font-size: {{ section.settings.newsletter_text_size | default: 14 }}px;
    color: {{ section.settings.newsletter_text_color | default: '#666666' }};
    margin: 0 0 {{ section.settings.newsletter_text_margin | default: 20 }}px 0;
    line-height: 1.5;
  }

  .footer-{{ unique }}__newsletter-form {
    display: flex;
    gap: {{ section.settings.newsletter_form_gap | default: 12 }}px;
    align-items: flex-start;
  }

  .footer-{{ unique }}__newsletter-input {
    flex: 1;
    padding: {{ section.settings.newsletter_input_padding | default: '12px 16px' }};
    border: 2px solid {{ section.settings.newsletter_input_border | default: '#e5e5e5' }};
    border-radius: {{ section.settings.newsletter_input_radius | default: 6 }}px;
    font-size: {{ section.settings.newsletter_input_size | default: 16 }}px;
    background: {{ section.settings.newsletter_input_bg | default: '#ffffff' }};
    color: {{ section.settings.newsletter_input_color | default: '#333333' }};
    transition: border-color 0.3s ease;
    min-height: 44px;
  }

  .footer-{{ unique }}__newsletter-input:focus {
    outline: none;
    border-color: {{ section.settings.focus_color | default: '#007cba' }};
  }

  .footer-{{ unique }}__newsletter-input::placeholder {
    color: {{ section.settings.newsletter_placeholder_color | default: '#999999' }};
  }

  .footer-{{ unique }}__newsletter-button {
    background: {{ section.settings.newsletter_button_bg | default: '#007cba' }};
    color: {{ section.settings.newsletter_button_color | default: '#ffffff' }};
    border: 2px solid {{ section.settings.newsletter_button_bg | default: '#007cba' }};
    border-radius: {{ section.settings.newsletter_button_radius | default: 6 }}px;
    padding: {{ section.settings.newsletter_button_padding | default: '12px 24px' }};
    font-size: {{ section.settings.newsletter_button_size | default: 16 }}px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    min-height: 44px;
    min-width: 44px;
    flex-shrink: 0;
  }

  .footer-{{ unique }}__newsletter-button:hover {
    background: {{ section.settings.newsletter_button_hover | default: '#005a9e' }};
    border-color: {{ section.settings.newsletter_button_hover | default: '#005a9e' }};
    transform: translateY(-1px);
  }

  .footer-{{ unique }}__newsletter-button:focus {
    outline: 2px solid {{ section.settings.focus_color | default: '#007cba' }};
    outline-offset: 2px;
  }

  .footer-{{ unique }}__newsletter-privacy {
    font-size: {{ section.settings.privacy_text_size | default: 12 }}px;
    color: {{ section.settings.privacy_text_color | default: '#999999' }};
    margin-top: {{ section.settings.privacy_text_margin | default: 12 }}px;
    line-height: 1.4;
  }

  .footer-{{ unique }}__newsletter-privacy a {
    color: {{ section.settings.privacy_link_color | default: '#007cba' }};
    text-decoration: none;
  }

  .footer-{{ unique }}__newsletter-privacy a:hover {
    text-decoration: underline;
  }

  .footer-{{ unique }}__social {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
  }

  .footer-{{ unique }}__social-list {
    display: flex;
    gap: {{ section.settings.social_gap | default: 16 }}px;
    margin-top: {{ section.settings.social_margin | default: 16 }}px;
    flex-wrap: wrap;
  }

  .footer-{{ unique }}__social-link {
    display: flex;
    align-items: center;
    justify-content: center;
    width: {{ section.settings.social_size | default: 40 }}px;
    height: {{ section.settings.social_size | default: 40 }}px;
    background: {{ section.settings.social_bg | default: '#ffffff' }};
    color: {{ section.settings.social_color | default: '#666666' }};
    border: 1px solid {{ section.settings.social_border | default: '#e5e5e5' }};
    border-radius: {{ section.settings.social_radius | default: 50 }}%;
    text-decoration: none;
    transition: all 0.3s ease;
  }

  .footer-{{ unique }}__social-link:hover {
    background: {{ section.settings.social_hover_bg | default: '#007cba' }};
    color: {{ section.settings.social_hover_color | default: '#ffffff' }};
    border-color: {{ section.settings.social_hover_bg | default: '#007cba' }};
    transform: translateY(-2px);
  }

  .footer-{{ unique }}__social-link:focus {
    outline: 2px solid {{ section.settings.focus_color | default: '#007cba' }};
    outline-offset: 2px;
  }

  .footer-{{ unique }}__bottom {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding-top: {{ section.settings.bottom_padding | default: 30 }}px;
    border-top: 1px solid {{ section.settings.bottom_border_color | default: '#e5e5e5' }};
    gap: {{ section.settings.bottom_gap | default: 30 }}px;
    flex-wrap: wrap;
  }

  .footer-{{ unique }}__copyright {
    font-size: {{ section.settings.copyright_size | default: 14 }}px;
    color: {{ section.settings.copyright_color | default: '#666666' }};
    margin: 0;
    line-height: 1.4;
  }

  .footer-{{ unique }}__payment-icons {
    display: flex;
    gap: {{ section.settings.payment_gap | default: 8 }}px;
    align-items: center;
    flex-wrap: wrap;
  }

  .footer-{{ unique }}__payment-icon {
    height: {{ section.settings.payment_height | default: 24 }}px;
    width: auto;
    opacity: {{ section.settings.payment_opacity | default: 70 | divided_by: 100.0 }};
    transition: opacity 0.3s ease;
  }

  .footer-{{ unique }}__payment-icon:hover {
    opacity: 1;
  }

  .footer-{{ unique }}__back-to-top {
    position: fixed;
    bottom: {{ section.settings.back_to_top_bottom | default: 30 }}px;
    right: {{ section.settings.back_to_top_right | default: 30 }}px;
    background: {{ section.settings.back_to_top_bg | default: '#007cba' }};
    color: {{ section.settings.back_to_top_color | default: '#ffffff' }};
    border: none;
    border-radius: 50%;
    width: {{ section.settings.back_to_top_size | default: 50 }}px;
    height: {{ section.settings.back_to_top_size | default: 50 }}px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    box-shadow: 0 4px 12px rgba(0, 124, 186, 0.3);
    transition: all 0.3s ease;
    z-index: 1000;
    opacity: 0;
    visibility: hidden;
    transform: translateY(20px);
  }

  .footer-{{ unique }}__back-to-top.visible {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
  }

  .footer-{{ unique }}__back-to-top:hover {
    background: {{ section.settings.back_to_top_hover | default: '#005a9e' }};
    transform: translateY(-2px);
  }

  .footer-{{ unique }}__back-to-top:focus {
    outline: 2px solid {{ section.settings.focus_color | default: '#007cba' }};
    outline-offset: 2px;
  }

  /* Mobile Responsive */
  @media screen and (max-width: 989px) {
    .footer-{{ unique }}__main {
      grid-template-columns: repeat({{ section.settings.columns_tablet | default: 2 }}, 1fr);
      gap: {{ section.settings.column_gap_tablet | default: 30 }}px;
    }

    .footer-{{ unique }}__container {
      padding: 0 {{ section.settings.horizontal_padding_tablet | default: 16 }}px;
    }

    .footer-{{ unique }}__newsletter-form {
      flex-direction: column;
      align-items: stretch;
    }

    .footer-{{ unique }}__social-list {
      justify-content: flex-start;
    }
  }

  @media screen and (max-width: 749px) {
    .footer-{{ unique }} {
      padding: {{ section.settings.padding_top_mobile | default: 40 }}px 0 {{ section.settings.padding_bottom_mobile | default: 30 }}px;
    }

    .footer-{{ unique }}__main {
      grid-template-columns: 1fr;
      gap: {{ section.settings.column_gap_mobile | default: 30 }}px;
    }

    .footer-{{ unique }}__container {
      padding: 0 {{ section.settings.horizontal_padding_mobile | default: 16 }}px;
    }

    .footer-{{ unique }}__newsletter {
      padding: {{ section.settings.newsletter_padding_mobile | default: '20px' }};
    }

    .footer-{{ unique }}__bottom {
      flex-direction: column;
      align-items: flex-start;
      text-align: center;
      gap: {{ section.settings.bottom_gap_mobile | default: 20 }}px;
    }

    .footer-{{ unique }}__bottom > * {
      width: 100%;
      text-align: center;
    }

    .footer-{{ unique }}__social-list {
      justify-content: center;
    }

    .footer-{{ unique }}__payment-icons {
      justify-content: center;
    }

    .footer-{{ unique }}__back-to-top {
      bottom: {{ section.settings.back_to_top_bottom_mobile | default: 20 }}px;
      right: {{ section.settings.back_to_top_right_mobile | default: 20 }}px;
      width: {{ section.settings.back_to_top_size_mobile | default: 44 }}px;
      height: {{ section.settings.back_to_top_size_mobile | default: 44 }}px;
    }
  }

  /* Reduced Motion */
  @media (prefers-reduced-motion: reduce) {
    .footer-{{ unique }}__newsletter-button {
      transition: none;
    }

    .footer-{{ unique }}__newsletter-button:hover {
      transform: none;
    }

    .footer-{{ unique }}__social-link {
      transition: none;
    }

    .footer-{{ unique }}__social-link:hover {
      transform: none;
    }

    .footer-{{ unique }}__back-to-top {
      transition: none;
    }

    .footer-{{ unique }}__back-to-top:hover {
      transform: none;
    }
  }
{% endstyle %}

{%- comment -%} JavaScript for Footer Functionality {%- endcomment -%}
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const backToTopButton = document.querySelector('.footer-{{ unique }}__back-to-top');
    const newsletterForm = document.querySelector('.footer-{{ unique }}__newsletter-form');

    // Back to top functionality
    if (backToTopButton) {
      function toggleBackToTop() {
        if (window.pageYOffset > 300) {
          backToTopButton.classList.add('visible');
        } else {
          backToTopButton.classList.remove('visible');
        }
      }

      window.addEventListener('scroll', toggleBackToTop);

      backToTopButton.addEventListener('click', (e) => {
        e.preventDefault();
        window.scrollTo({
          top: 0,
          behavior: 'smooth'
        });
      });
    }

    // Newsletter form submission
    if (newsletterForm) {
      newsletterForm.addEventListener('submit', function(e) {
        e.preventDefault();

        const emailInput = this.querySelector('.footer-{{ unique }}__newsletter-input');
        const submitButton = this.querySelector('.footer-{{ unique }}__newsletter-button');
        const email = emailInput.value.trim();

        // Basic email validation
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

        if (!email) {
          alert('Please enter your email address.');
          emailInput.focus();
          return;
        }

        if (!emailRegex.test(email)) {
          alert('Please enter a valid email address.');
          emailInput.focus();
          return;
        }

        // Disable button during submission
        submitButton.disabled = true;
        submitButton.textContent = 'Subscribing...';

        // Create FormData for Shopify customer creation
        const formData = new FormData();
        formData.append('contact[email]', email);
        formData.append('contact[tags]', 'newsletter');

        // Submit to Shopify
        fetch('/contact', {
          method: 'POST',
          body: formData,
          headers: {
            'Accept': 'application/json',
          }
        })
        .then(response => {
          if (response.ok) {
            // Success
            submitButton.textContent = 'Subscribed!';
            submitButton.style.background = '#28a745';
            emailInput.value = '';

            // Reset button after 3 seconds
            setTimeout(() => {
              submitButton.disabled = false;
              submitButton.textContent = '{{ section.settings.newsletter_button_text | default: "Subscribe" | escape }}';
              submitButton.style.background = '';
            }, 3000);
          } else {
            throw new Error('Subscription failed');
          }
        })
        .catch(error => {
          console.error('Newsletter subscription error:', error);
          submitButton.textContent = 'Try Again';
          submitButton.disabled = false;
          alert('Sorry, there was an error subscribing to our newsletter. Please try again.');
        });
      });
    }

    // Current year update
    const currentYearElements = document.querySelectorAll('.current-year');
    const currentYear = new Date().getFullYear();
    currentYearElements.forEach(element => {
      element.textContent = currentYear;
    });
  });
</script>

{%- comment -%} HTML Structure {%- endcomment -%}
<footer class="footer-{{ unique }}" role="contentinfo">
  <div class="footer-{{ unique }}__container">
    <div class="footer-{{ unique }}__main">
      {%- for block in section.blocks -%}
        {%- case block.type -%}
          {%- when 'menu' -%}
            <div class="footer-{{ unique }}__column" {{ block.shopify_attributes }}>
              {%- if block.settings.title != blank -%}
                <h3 class="footer-{{ unique }}__column-title">
                  {{ block.settings.title | escape }}
                </h3>
              {%- endif -%}

              {%- if block.settings.menu != blank -%}
                <nav role="navigation" aria-label="{{ block.settings.title | escape }}">
                  <ul class="footer-{{ unique }}__nav-list">
                    {%- for link in linklists[block.settings.menu].links -%}
                      <li>
                        <a href="{{ link.url }}" class="footer-{{ unique }}__nav-link">
                          {{ link.title | escape }}
                        </a>
                      </li>
                    {%- endfor -%}
                  </ul>
                </nav>
              {%- endif -%}
            </div>

          {%- when 'contact' -%}
            <div class="footer-{{ unique }}__column" {{ block.shopify_attributes }}>
              {%- if block.settings.title != blank -%}
                <h3 class="footer-{{ unique }}__column-title">
                  {{ block.settings.title | escape }}
                </h3>
              {%- endif -%}

              <div class="footer-{{ unique }}__contact-info">
                {%- if block.settings.address != blank -%}
                  <div class="footer-{{ unique }}__contact-item">
                    <div class="footer-{{ unique }}__contact-icon">
                      {% render 'icon-svg', name: 'location', size: 18, aria_hidden: true %}
                    </div>
                    <div class="footer-{{ unique }}__contact-text">
                      {{ block.settings.address | newline_to_br }}
                    </div>
                  </div>
                {%- endif -%}

                {%- if block.settings.phone != blank -%}
                  <div class="footer-{{ unique }}__contact-item">
                    <div class="footer-{{ unique }}__contact-icon">
                      {% render 'icon-svg', name: 'phone', size: 18, aria_hidden: true %}
                    </div>
                    <div class="footer-{{ unique }}__contact-text">
                      <a href="tel:{{ block.settings.phone | replace: ' ', '' | replace: '-', '' }}"
                         class="footer-{{ unique }}__contact-link">
                        {{ block.settings.phone | escape }}
                      </a>
                    </div>
                  </div>
                {%- endif -%}

                {%- if block.settings.email != blank -%}
                  <div class="footer-{{ unique }}__contact-item">
                    <div class="footer-{{ unique }}__contact-icon">
                      {% render 'icon-svg', name: 'email', size: 18, aria_hidden: true %}
                    </div>
                    <div class="footer-{{ unique }}__contact-text">
                      <a href="mailto:{{ block.settings.email }}"
                         class="footer-{{ unique }}__contact-link">
                        {{ block.settings.email | escape }}
                      </a>
                    </div>
                  </div>
                {%- endif -%}

                {%- if block.settings.hours != blank -%}
                  <div class="footer-{{ unique }}__contact-item">
                    <div class="footer-{{ unique }}__contact-icon">
                      {% render 'icon-svg', name: 'clock', size: 18, aria_hidden: true %}
                    </div>
                    <div class="footer-{{ unique }}__contact-text">
                      {{ block.settings.hours | newline_to_br }}
                    </div>
                  </div>
                {%- endif -%}
              </div>
            </div>

          {%- when 'newsletter' -%}
            <div class="footer-{{ unique }}__column" {{ block.shopify_attributes }}>
              <div class="footer-{{ unique }}__newsletter">
                {%- if block.settings.heading != blank -%}
                  <h3 class="footer-{{ unique }}__newsletter-heading">
                    {{ block.settings.heading | escape }}
                  </h3>
                {%- endif -%}

                {%- if block.settings.text != blank -%}
                  <div class="footer-{{ unique }}__newsletter-text">
                    {{ block.settings.text }}
                  </div>
                {%- endif -%}

                <form class="footer-{{ unique }}__newsletter-form" novalidate>
                  <input
                    type="email"
                    class="footer-{{ unique }}__newsletter-input"
                    placeholder="{{ block.settings.placeholder | default: 'Enter your email' | escape }}"
                    aria-label="Email address for newsletter subscription"
                    required
                  >
                  <button
                    type="submit"
                    class="footer-{{ unique }}__newsletter-button"
                  >
                    {{ block.settings.button_text | default: 'Subscribe' | escape }}
                  </button>
                </form>

                {%- if block.settings.privacy_text != blank -%}
                  <div class="footer-{{ unique }}__newsletter-privacy">
                    {{ block.settings.privacy_text }}
                  </div>
                {%- endif -%}
              </div>
            </div>

          {%- when 'social' -%}
            <div class="footer-{{ unique }}__column footer-{{ unique }}__social" {{ block.shopify_attributes }}>
              {%- if block.settings.title != blank -%}
                <h3 class="footer-{{ unique }}__column-title">
                  {{ block.settings.title | escape }}
                </h3>
              {%- endif -%}

              <div class="footer-{{ unique }}__social-list">
                {%- for social_block in section.blocks -%}
                  {%- if social_block.type == 'social_link' and social_block.settings.url != blank -%}
                    <a
                      href="{{ social_block.settings.url }}"
                      class="footer-{{ unique }}__social-link"
                      target="_blank"
                      rel="noopener"
                      aria-label="{{ social_block.settings.platform | escape }}"
                    >
                      {% render 'icon-svg',
                         name: social_block.settings.icon,
                         size: 20,
                         aria_hidden: true %}
                    </a>
                  {%- endif -%}
                {%- endfor -%}
              </div>
            </div>

          {%- when 'text' -%}
            <div class="footer-{{ unique }}__column" {{ block.shopify_attributes }}>
              {%- if block.settings.title != blank -%}
                <h3 class="footer-{{ unique }}__column-title">
                  {{ block.settings.title | escape }}
                </h3>
              {%- endif -%}

              {%- if block.settings.content != blank -%}
                <div class="footer-{{ unique }}__text-content">
                  {{ block.settings.content }}
                </div>
              {%- endif -%}
            </div>
        {%- endcase -%}
      {%- endfor -%}
    </div>

    <div class="footer-{{ unique }}__bottom">
      <div class="footer-{{ unique }}__copyright">
        {%- if copyright_text != blank -%}
          {%- assign current_year = 'now' | date: '%Y' -%}
          {%- assign processed_copyright = copyright_text | replace: '{year}', current_year -%}
          {{ processed_copyright }}
        {%- else -%}
          © <span class="current-year">{{ 'now' | date: '%Y' }}</span> {{ shop.name | escape }}. All rights reserved.
        {%- endif -%}
      </div>

      {%- if show_payment_icons and shop.enabled_payment_types.size > 0 -%}
        <div class="footer-{{ unique }}__payment-icons" aria-label="Accepted payment methods">
          {%- for type in shop.enabled_payment_types -%}
            {%- comment -%} payment_type_img_url is the correct Shopify filter for payment icons {%- endcomment -%}
            <img
              class="footer-{{ unique }}__payment-icon"
              src="{{ type | payment_type_img_url }}"
              alt="{{ type | capitalize | escape }}"
              loading="lazy"
              width="auto"
              height="24"
            >
          {%- endfor -%}
        </div>
      {%- endif -%}
    </div>
  </div>

  {%- if section.settings.show_back_to_top -%}
    <button
      class="footer-{{ unique }}__back-to-top"
      aria-label="Back to top"
      type="button"
    >
      {% render 'icon-svg', name: 'arrow-up', size: 20, aria_hidden: true %}
    </button>
  {%- endif -%}
</footer>

{%- comment -%} Schema Configuration {%- endcomment -%}
{% schema %}
{
  "name": "Footer",
  "tag": "footer",
  "class": "footer-section",
  "settings": [
    {
      "type": "header",
      "content": "Layout Settings"
    },
    {
      "type": "range",
      "id": "columns_desktop",
      "label": "Columns (Desktop)",
      "min": 2,
      "max": 5,
      "step": 1,
      "default": 4
    },
    {
      "type": "range",
      "id": "columns_tablet",
      "label": "Columns (Tablet)",
      "min": 1,
      "max": 3,
      "step": 1,
      "default": 2
    },
    {
      "type": "range",
      "id": "container_width",
      "label": "Container Width",
      "min": 1000,
      "max": 1400,
      "step": 50,
      "unit": "px",
      "default": 1200
    },
    {
      "type": "range",
      "id": "column_gap",
      "label": "Column Gap (Desktop)",
      "min": 20,
      "max": 60,
      "step": 10,
      "unit": "px",
      "default": 40
    },
    {
      "type": "range",
      "id": "column_gap_mobile",
      "label": "Column Gap (Mobile)",
      "min": 20,
      "max": 40,
      "step": 5,
      "unit": "px",
      "default": 30
    },
    {
      "type": "header",
      "content": "Footer Features"
    },
    {
      "type": "checkbox",
      "id": "show_newsletter",
      "label": "Show Newsletter Signup",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_social",
      "label": "Show Social Links",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_payment_icons",
      "label": "Show Payment Icons",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_back_to_top",
      "label": "Show Back to Top Button",
      "default": true
    },
    {
      "type": "header",
      "content": "Copyright"
    },
    {
      "type": "textarea",
      "id": "copyright_text",
      "label": "Copyright Text",
      "info": "Use {year} for current year",
      "default": "© {year} {{ shop.name }}. All rights reserved."
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#f8f9fa"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color",
      "default": "#333333"
    },
    {
      "type": "color",
      "id": "border_color",
      "label": "Border Color",
      "default": "#e5e5e5"
    },
    {
      "type": "color",
      "id": "column_title_color",
      "label": "Column Title Color",
      "default": "#333333"
    },
    {
      "type": "color",
      "id": "nav_color",
      "label": "Link Color",
      "default": "#666666"
    },
    {
      "type": "color",
      "id": "nav_hover_color",
      "label": "Link Hover Color",
      "default": "#007cba"
    },
    {
      "type": "color",
      "id": "focus_color",
      "label": "Focus Color",
      "default": "#007cba"
    },
    {
      "type": "header",
      "content": "Newsletter Colors"
    },
    {
      "type": "color",
      "id": "newsletter_bg",
      "label": "Newsletter Background",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "newsletter_border_color",
      "label": "Newsletter Border",
      "default": "#e5e5e5"
    },
    {
      "type": "color",
      "id": "newsletter_button_bg",
      "label": "Newsletter Button Background",
      "default": "#007cba"
    },
    {
      "type": "color",
      "id": "newsletter_button_color",
      "label": "Newsletter Button Text",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "newsletter_button_hover",
      "label": "Newsletter Button Hover",
      "default": "#005a9e"
    },
    {
      "type": "header",
      "content": "Social Media"
    },
    {
      "type": "color",
      "id": "social_bg",
      "label": "Social Button Background",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "social_color",
      "label": "Social Button Color",
      "default": "#666666"
    },
    {
      "type": "color",
      "id": "social_hover_bg",
      "label": "Social Button Hover Background",
      "default": "#007cba"
    },
    {
      "type": "color",
      "id": "social_hover_color",
      "label": "Social Button Hover Color",
      "default": "#ffffff"
    },
    {
      "type": "header",
      "content": "Spacing"
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "Top Padding (Desktop)",
      "min": 40,
      "max": 100,
      "step": 10,
      "unit": "px",
      "default": 60
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "Bottom Padding (Desktop)",
      "min": 20,
      "max": 80,
      "step": 10,
      "unit": "px",
      "default": 40
    },
    {
      "type": "range",
      "id": "padding_top_mobile",
      "label": "Top Padding (Mobile)",
      "min": 30,
      "max": 60,
      "step": 10,
      "unit": "px",
      "default": 40
    },
    {
      "type": "range",
      "id": "padding_bottom_mobile",
      "label": "Bottom Padding (Mobile)",
      "min": 20,
      "max": 50,
      "step": 10,
      "unit": "px",
      "default": 30
    },
    {
      "type": "range",
      "id": "horizontal_padding",
      "label": "Horizontal Padding (Desktop)",
      "min": 15,
      "max": 50,
      "step": 5,
      "unit": "px",
      "default": 20
    },
    {
      "type": "range",
      "id": "horizontal_padding_mobile",
      "label": "Horizontal Padding (Mobile)",
      "min": 10,
      "max": 30,
      "step": 2,
      "unit": "px",
      "default": 16
    }
  ],
  "blocks": [
    {
      "type": "menu",
      "name": "Menu",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Column Title",
          "default": "Quick Links"
        },
        {
          "type": "link_list",
          "id": "menu",
          "label": "Menu",
          "default": "footer"
        }
      ]
    },
    {
      "type": "contact",
      "name": "Contact Info",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Column Title",
          "default": "Contact Us"
        },
        {
          "type": "textarea",
          "id": "address",
          "label": "Address"
        },
        {
          "type": "text",
          "id": "phone",
          "label": "Phone Number"
        },
        {
          "type": "text",
          "id": "email",
          "label": "Email Address"
        },
        {
          "type": "textarea",
          "id": "hours",
          "label": "Business Hours"
        }
      ]
    },
    {
      "type": "newsletter",
      "name": "Newsletter",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Newsletter Heading",
          "default": "Subscribe to our newsletter"
        },
        {
          "type": "richtext",
          "id": "text",
          "label": "Newsletter Text",
          "default": "<p>Get the latest updates on new products and upcoming sales.</p>"
        },
        {
          "type": "text",
          "id": "placeholder",
          "label": "Input Placeholder",
          "default": "Enter your email"
        },
        {
          "type": "text",
          "id": "button_text",
          "label": "Button Text",
          "default": "Subscribe"
        },
        {
          "type": "richtext",
          "id": "privacy_text",
          "label": "Privacy Text",
          "default": "<p>By subscribing, you agree to our <a href='/pages/privacy-policy'>Privacy Policy</a>.</p>"
        }
      ]
    },
    {
      "type": "social",
      "name": "Social Media",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Column Title",
          "default": "Follow Us"
        }
      ]
    },
    {
      "type": "social_link",
      "name": "Social Link",
      "settings": [
        {
          "type": "select",
          "id": "platform",
          "label": "Platform",
          "options": [
            {
              "value": "facebook",
              "label": "Facebook"
            },
            {
              "value": "twitter",
              "label": "Twitter"
            },
            {
              "value": "instagram",
              "label": "Instagram"
            },
            {
              "value": "youtube",
              "label": "YouTube"
            },
            {
              "value": "linkedin",
              "label": "LinkedIn"
            },
            {
              "value": "tiktok",
              "label": "TikTok"
            },
            {
              "value": "pinterest",
              "label": "Pinterest"
            }
          ],
          "default": "facebook"
        },
        {
          "type": "text",
          "id": "icon",
          "label": "Icon Name",
          "default": "facebook",
          "info": "Icon name from the icon-svg snippet"
        },
        {
          "type": "url",
          "id": "url",
          "label": "Profile URL"
        }
      ]
    },
    {
      "type": "text",
      "name": "Text Content",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Column Title",
          "default": "About Us"
        },
        {
          "type": "richtext",
          "id": "content",
          "label": "Content",
          "default": "<p>We are dedicated to providing quality products and exceptional customer service.</p>"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Footer",
      "blocks": [
        {
          "type": "menu",
          "settings": {
            "title": "Quick Links"
          }
        },
        {
          "type": "contact",
          "settings": {
            "title": "Contact Us"
          }
        },
        {
          "type": "newsletter",
          "settings": {
            "heading": "Subscribe to our newsletter"
          }
        },
        {
          "type": "social",
          "settings": {
            "title": "Follow Us"
          }
        }
      ]
    }
  ]
}
{% endschema %}