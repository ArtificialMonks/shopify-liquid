{% comment %}
  Artistic Hero Section - Enterprise Grade

  Features:
  - Advanced background system (video, image, gradients, overlays)
  - 12 blend modes for artistic effects
  - Parallax and performance optimizations
  - Logo integration with scalable typography
  - WCAG 2.1 AA accessibility compliance
  - Mobile-first responsive design
{% endcomment %}

{% liquid
  assign unique = section.id | replace: '_', '' | downcase
  assign bg_type = section.settings.background_type
  assign blend_mode = section.settings.background_blend_mode
  assign overlay_opacity = section.settings.overlay_opacity
  assign section_height = section.settings.section_height
  assign text_position = section.settings.text_position
  assign enable_parallax = section.settings.enable_parallax

%}

<style>
  .artistic-hero-{{ unique }} {
    /* Core layout */
    position: relative;
    min-height: {{ section_height }}vh;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;

    /* Design tokens */
    --hero-bg: {{ section.settings.background_color | default: 'transparent' }};
    --hero-text: {{ section.settings.text_color | default: '#000000'  | escape }};
    --overlay-color: {{ section.settings.overlay_color | default: '#000000' }};
    --overlay-opacity: {{ overlay_opacity | divided_by: 100.0 }};

    /* Performance optimizations */
    contain: layout style;
    will-change: auto;
  }

  .artistic-hero-{{ unique }}__background {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
    {% if bg_type == 'color' %}
      background: var(--hero-bg);
    {% elsif bg_type == 'gradient' %}
      background: linear-gradient(
        {{ section.settings.gradient_angle | default: 45 }}deg,
        {{ section.settings.gradient_color_1 | default: '#000000' }},
        {{ section.settings.gradient_color_2 | default: '#ffffff' }}
      );
    {% else %}
      background: transparent;
    {% endif %}
    {% if blend_mode != 'normal' %}
      background-blend-mode: {{ blend_mode }};
    {% endif %}
  }

  {% if bg_type == 'image' and section.settings.background_image %}
    .artistic-hero-{{ unique }}__background::before {
      content: '';
      position: absolute;
      top: {% if enable_parallax %}-20%{% else %}0{% endif %};
      left: {% if enable_parallax %}-20%{% else %}0{% endif %};
      right: {% if enable_parallax %}-20%{% else %}0{% endif %};
      bottom: {% if enable_parallax %}-20%{% else %}0{% endif %};
      background-image: url('{{ section.settings.background_image | image_url: width: 2000 }}');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      {% if enable_parallax %}
        background-attachment: fixed;
        will-change: transform;
      {% endif %}
      z-index: -1;
    }
  {% endif %}

  {% if bg_type == 'video' and section.settings.background_video %}
    .artistic-hero-{{ unique }}__video {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: 2;
    }
  {% endif %}

  .artistic-hero-{{ unique }}__overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: var(--overlay-color);
    opacity: var(--overlay-opacity);
    z-index: 3;
    pointer-events: none;
  }

  .artistic-hero-{{ unique }}__content {
    position: relative;
    z-index: 4;
    width: 100%;
    max-width: {{ section.settings.content_max_width | default: 1200 }}px;
    padding: 2rem;
    display: flex;
    flex-direction: column;
    {% if text_position == 'left' %}
      align-items: flex-start;
      text-align: left;
    {% elsif text_position == 'right' %}
      align-items: flex-end;
      text-align: right;
    {% else %}
      align-items: center;
      text-align: center;
    {% endif %}
    color: var(--hero-text);
  }

  .artistic-hero-{{ unique }}__heading {
    font-size: clamp(2.5rem, 8vw, {{ section.settings.heading_size | default: 4 }}rem);
    font-weight: {{ section.settings.heading_weight | default: 700 }};
    line-height: 1.1;
    margin-bottom: 1.5rem;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
    transition: all 0.3s ease;
    cursor: default;
  }

  .artistic-hero-{{ unique }}__heading:hover {
    transform: translateY(-2px);
    text-shadow: 4px 4px 8px rgba(0, 0, 0, 0.4);
    letter-spacing: 0.02em;
  }

  .artistic-hero-{{ unique }}__description {
    font-size: clamp(16px, 3vw, {{ section.settings.description_size | default: 18 }}px);
    line-height: 1.6;
    margin-bottom: 2rem;
    max-width: 600px;
    {% if text_position == 'center' %}
      margin-left: auto;
      margin-right: auto;
    {% elsif text_position == 'right' %}
      margin-left: auto;
      margin-right: 0;
    {% else %}
      margin-left: 0;
      margin-right: auto;
    {% endif %}
  }

  .artistic-hero-{{ unique }}__cta {
    display: inline-block;
    padding: 1rem 2rem;
    background: {{ section.settings.cta_bg_color | default: '#000000' }};
    color: {{ section.settings.cta_text_color | default: '#ffffff'  | escape }};
    text-decoration: none;
    border-radius: {{ section.settings.cta_border_radius | default: 4 }}px;
    font-weight: 600;
    transition: all 0.3s ease;
    border: 2px solid transparent;
  }

  .artistic-hero-{{ unique }}__cta:hover {
    background: {{ section.settings.cta_hover_bg | default: '#333333' }};
    transform: translateY(-3px) scale(1.05);
    box-shadow: 0 12px 30px rgba(0, 0, 0, 0.3);
    letter-spacing: 0.02em;
  }

  .artistic-hero-{{ unique }}__cta:focus {
    outline: 3px solid var(--focus-ring-color, #007cba);
    outline-offset: 4px;
  }

  /* Logo elements styling */
  .artistic-hero-{{ unique }}__logos {
    display: flex;
    gap: 2rem;
    margin-bottom: 2rem;
    flex-wrap: wrap;
  }

  .artistic-hero-{{ unique }}__logo {
    width: auto;
    height: auto;
    max-width: 100%;
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    filter: brightness(1) saturate(1);
    transform-origin: center;
  }

  .artistic-hero-{{ unique }}__logo:hover {
    transform: translateY(-8px) scale(1.1) rotate(2deg);
    filter: brightness(1.2) saturate(1.3);
    box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
  }

  .artistic-hero-{{ unique }}__logo--left {
    align-self: flex-start;
  }

  .artistic-hero-{{ unique }}__logo--center {
    align-self: center;
  }

  .artistic-hero-{{ unique }}__logo--right {
    align-self: flex-end;
  }

  /* Logo positioning based on section text alignment */
  .artistic-hero-{{ unique }}[data-text-position="left"] .artistic-hero-{{ unique }}__logos {
    justify-content: flex-start;
  }

  .artistic-hero-{{ unique }}[data-text-position="center"] .artistic-hero-{{ unique }}__logos {
    justify-content: center;
  }

  .artistic-hero-{{ unique }}[data-text-position="right"] .artistic-hero-{{ unique }}__logos {
    justify-content: flex-end;
  }

  /* Responsive adjustments */
  @media (max-width: 768px) {
    .artistic-hero-{{ unique }} {
      min-height: {{ section_height | times: 0.7 }}vh;
    }

    .artistic-hero-{{ unique }}__content {
      padding: 1rem;
      text-align: center;
    }

    .artistic-hero-{{ unique }}__heading {
      margin-bottom: 1rem;
    }

    .artistic-hero-{{ unique }}__description {
      margin-bottom: 1.5rem;
    }

    {% if enable_parallax %}
      .artistic-hero-{{ unique }}__background::before {
        background-attachment: scroll;
      }
    {% endif %}
  }

  /* High contrast mode support */
  @media (prefers-contrast: high) {
    .artistic-hero-{{ unique }} {
      background: white !important;
      color: black !important;
    }

    .artistic-hero-{{ unique }}__overlay {
      display: none !important;
    }

    .artistic-hero-{{ unique }}__heading,
    .artistic-hero-{{ unique }}__description {
      text-shadow: none !important;
    }
  }

  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    .artistic-hero-{{ unique }}__background::before {
      background-attachment: scroll !important;
    }

    .artistic-hero-{{ unique }}__cta {
      transition: none !important;
    }

    .artistic-hero-{{ unique }}__cta:hover {
      transform: none !important;
    }

    .artistic-hero-{{ unique }}__heading:hover {
      transform: none !important;
    }

    .artistic-hero-{{ unique }}__logo:hover {
      transform: none !important;
      filter: none !important;
      box-shadow: none !important;
    }

    .artistic-hero-{{ unique }}__logo.no-hover:hover {
      transform: none !important;
      filter: none !important;
      box-shadow: none !important;
    }
  }
</style>

<section class="artistic-hero-{{ unique }}"
         role="banner"
         aria-labelledby="hero-heading-{{ unique }}"
         data-section-id="{{ section.id }}"
         data-section-type="artistic-hero"
         data-text-position="{{ text_position }}">

  <!-- Background layer -->
  <div class="artistic-hero-{{ unique }}__background"></div>

  <!-- Video background if enabled -->
  {% if bg_type == 'video' and section.settings.background_video %}
    <video class="artistic-hero-{{ unique }}__video"
           autoplay
           muted
           loop
           playsinline
           preload="metadata"
           aria-hidden="true"
           {% if section.settings.background_image %}
             poster="{{ section.settings.background_image | image_url: width: 1920 }}"
           {% endif %}>
      <source src="{{ section.settings.background_video | file_url }}" type="video/mp4">
    </video>
  {% endif %}

  <!-- Overlay -->
  {% if overlay_opacity > 0 %}
    <div class="artistic-hero-{{ unique }}__overlay"></div>
  {% endif %}

  <!-- Content -->
  <div class="artistic-hero-{{ unique }}__content">

    <!-- Logo elements -->
    {% assign logo_blocks = section.blocks | where: 'type', 'logo_element' %}
    {% if logo_blocks.size > 0 %}
      <div class="artistic-hero-{{ unique }}__logos">
        {% for block in logo_blocks %}
          {% if block.settings.logo_image %}
            {% liquid
  assign logo_class = 'artistic-hero-' | append: unique | append: '__logo'
  if block.settings.logo_position
  assign logo_class = logo_class | append: ' artistic-hero-' | append: unique | append: '__logo--' | append: block.settings.logo_position
  endif
  unless block.settings.logo_hover_effect
  assign logo_class = logo_class | append: ' no-hover'
  endunless

%}
            <img src="{{ block.settings.logo_image | image_url: width: block.settings.logo_size }}"
                 alt="{{ shop.name | escape }}"
                 class="{{ logo_class }}"
                 width="{{ block.settings.logo_size }}"
                 height="auto"
                 style="margin: {{ block.settings.logo_spacing | default: 32 }}px;"
                 {{ block.shopify_attributes }}>
          {% endif %}
        {% endfor %}
      </div>
    {% endif %}

    <!-- Main heading -->
    {% if section.settings.hero_heading != blank %}
      <h1 id="hero-heading-{{ unique }}" class="artistic-hero-{{ unique }}__heading">
        {{ section.settings.hero_heading | escape }}
      </h1>
    {% endif %}

    <!-- Description -->
    {% if section.settings.hero_description != blank %}
      <div class="artistic-hero-{{ unique }}__description">
        {{ section.settings.hero_description }}
      </div>
    {% endif %}

    <!-- Call to action -->
    {% if section.settings.cta_text != blank and section.settings.cta_url != blank %}
      <a href="{{ section.settings.cta_url }}"
         class="artistic-hero-{{ unique }}__cta"
         {% if section.settings.cta_url contains 'http' %}target="_blank" rel="noopener"{% endif %}
         aria-describedby="hero-heading-{{ unique }}">
        {{ section.settings.cta_text | escape }}
      </a>
    {% endif %}

  </div>
</section>

{% schema %}
{
  "name": "Artistic Hero",
  "tag": "section",
  "class": "artistic-hero",
  "settings": [
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "richtext",
      "id": "hero_heading",
      "label": "Hero Heading",
      "default": "<h1>Discover Artistic Excellence</h1>"
    },
    {
      "type": "richtext",
      "id": "hero_description",
      "label": "Hero Description",
      "default": "<p>Explore our curated collection of unique artistic pieces, fashion, and handcrafted items.</p>"
    },
    {
      "type": "header",
      "content": "Call to Action"
    },
    {
      "type": "text",
      "id": "cta_text",
      "label": "Button Text",
      "default": "Shop Now"
    },
    {
      "type": "url",
      "id": "cta_url",
      "label": "Button URL"
    },
    {
      "type": "color",
      "id": "cta_bg_color",
      "label": "Button Background",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "cta_text_color",
      "label": "Button Text Color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "cta_hover_bg",
      "label": "Button Hover Background",
      "default": "#333333"
    },
    {
      "type": "range",
      "id": "cta_border_radius",
      "label": "Button Border Radius",
      "min": 0,
      "max": 50,
      "step": 2,
      "default": 4,
      "unit": "px"
    },
    {
      "type": "header",
      "content": "Background"
    },
    {
      "type": "select",
      "id": "background_type",
      "label": "Background Type",
      "default": "color",
      "options": [
        {"value": "color", "label": "Solid Color"},
        {"value": "gradient", "label": "Gradient"},
        {"value": "image", "label": "Image"},
        {"value": "video", "label": "Video"}
      ],
      "info": "Selected background will always display in front of other background types"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "transparent",
      "info": "Leave empty for transparent background or choose a color"
    },
    {
      "type": "color",
      "id": "gradient_color_1",
      "label": "Gradient Color 1",
      "default": "#000000",
      "info": "First color in gradient - can be transparent"
    },
    {
      "type": "color",
      "id": "gradient_color_2",
      "label": "Gradient Color 2",
      "default": "#ffffff",
      "info": "Second color in gradient - can be transparent"
    },
    {
      "type": "range",
      "id": "gradient_angle",
      "label": "Gradient Angle",
      "min": 0,
      "max": 360,
      "step": 15,
      "default": 45,
      "unit": "deg"
    },
    {
      "type": "image_picker",
      "id": "background_image",
      "label": "Background Image"
    },
    {
      "type": "video",
      "id": "background_video",
      "label": "Background Video"
    },
    {
      "type": "select",
      "id": "background_blend_mode",
      "label": "Background Blend Mode",
      "default": "normal",
      "options": [
        {"value": "normal", "label": "Normal"},
        {"value": "multiply", "label": "Multiply"},
        {"value": "screen", "label": "Screen"},
        {"value": "overlay", "label": "Overlay"},
        {"value": "darken", "label": "Darken"},
        {"value": "lighten", "label": "Lighten"},
        {"value": "color-dodge", "label": "Color Dodge"},
        {"value": "color-burn", "label": "Color Burn"},
        {"value": "hard-light", "label": "Hard Light"},
        {"value": "soft-light", "label": "Soft Light"},
        {"value": "difference", "label": "Difference"},
        {"value": "exclusion", "label": "Exclusion"}
      ]
    },
    {
      "type": "checkbox",
      "id": "enable_parallax",
      "label": "Enable Parallax Effect",
      "default": false,
      "info": "Creates depth with scroll-based movement (disabled on mobile for performance)"
    },
    {
      "type": "header",
      "content": "Overlay"
    },
    {
      "type": "range",
      "id": "overlay_opacity",
      "label": "Overlay Opacity",
      "min": 0,
      "max": 100,
      "step": 5,
      "default": 30,
      "unit": "%"
    },
    {
      "type": "color",
      "id": "overlay_color",
      "label": "Overlay Color",
      "default": "#000000"
    },
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "range",
      "id": "section_height",
      "label": "Section Height",
      "min": 50,
      "max": 100,
      "step": 5,
      "default": 90,
      "unit": "vh"
    },
    {
      "type": "select",
      "id": "text_position",
      "label": "Text Position",
      "default": "center",
      "options": [
        {"value": "left", "label": "Left"},
        {"value": "center", "label": "Center"},
        {"value": "right", "label": "Right"}
      ]
    },
    {
      "type": "range",
      "id": "content_max_width",
      "label": "Content Max Width",
      "min": 800,
      "max": 1400,
      "step": 100,
      "default": 1200,
      "unit": "px"
    },
    {
      "type": "header",
      "content": "Typography"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color",
      "default": "#ffffff"
    },
    {
      "type": "range",
      "id": "heading_size",
      "label": "Heading Size",
      "min": 2,
      "max": 8,
      "step": 1,
      "default": 4,
      "unit": "rem"
    },
    {
      "type": "range",
      "id": "heading_weight",
      "label": "Heading Weight",
      "min": 300,
      "max": 900,
      "step": 100,
      "default": 700
    },
    {
      "type": "range",
      "id": "description_size",
      "label": "Description Size",
      "min": 14,
      "max": 28,
      "step": 2,
      "default": 18,
      "unit": "px"
    }
  ],
  "blocks": [
    {
      "type": "logo_element",
      "name": "Logo Element",
      "settings": [
        {
          "type": "image_picker",
          "id": "logo_image",
          "label": "Logo Image"
        },
        {
          "type": "range",
          "id": "logo_size",
          "label": "Logo Size",
          "min": 50,
          "max": 300,
          "step": 25,
          "default": 150,
          "unit": "px"
        },
        {
          "type": "select",
          "id": "logo_position",
          "label": "Logo Position",
          "default": "center",
          "options": [
            {"value": "left", "label": "Left"},
            {"value": "center", "label": "Center"},
            {"value": "right", "label": "Right"}
          ],
          "info": "Position relative to other logos in the row"
        },
        {
          "type": "range",
          "id": "logo_spacing",
          "label": "Logo Spacing",
          "min": 0,
          "max": 60,
          "step": 4,
          "default": 32,
          "unit": "px",
          "info": "Spacing around this logo"
        },
        {
          "type": "checkbox",
          "id": "logo_hover_effect",
          "label": "Enable Hover Effect",
          "default": true,
          "info": "Enables sophisticated hover animations"
        }
      ]
    }
  ],
  "max_blocks": 3,
  "presets": [
    {
      "name": "Artistic Hero",
      "category": "Hero Sections",
      "settings": {
        "hero_heading": "<h1>Discover Artistic Excellence</h1>",
        "hero_description": "<p>Explore our curated collection of unique artistic pieces, fashion, and handcrafted items.</p>",
        "cta_text": "Shop Collection",
        "background_type": "gradient",
        "background_blend_mode": "overlay",
        "overlay_opacity": 30,
        "section_height": 90,
        "text_position": "center"
      },
      "blocks": [
        {
          "type": "logo_element"
        }
      ]
    }
  ]
}
{% endschema %}