{% comment %}
=================================================================================================
                            ADVANCED VIDEO + TEXT THEME BLOCK
=================================================================================================

üéØ THEME BLOCK (NOT SNIPPET)
This is a proper Shopify theme block with its own schema that can be used across multiple sections.
For the implementation logic, this theme block renders the snippet 'block-video-text.liquid'.

‚ñà INTEGRATION ‚ñà
Sections can accept this theme block using:
{"type": "@theme"} or {"type": "advanced_video_text"}

This theme block wraps the main implementation in snippets/block-video-text.liquid
=================================================================================================
{% endcomment %}

{%- render 'block-video-text', block: block -%}

{% schema %}
{
  "name": "Video + Text (Advanced)",
  "settings": [
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Watch Our Story"
    },
    {
      "type": "select",
      "id": "heading_tag",
      "label": "Heading Tag",
      "options": [
        {"value": "h2", "label": "H2"},
        {"value": "h3", "label": "H3"},
        {"value": "h4", "label": "H4"}
      ],
      "default": "h2",
      "info": "Choose the appropriate heading level for your page structure"
    },
    {
      "type": "richtext",
      "id": "body",
      "label": "Body Text",
      "default": "<p>Discover how our brand began and what drives us forward. This compelling video tells the story of our journey, our values, and our commitment to excellence.</p>"
    },
    {
      "type": "text",
      "id": "video_alt",
      "label": "Video Description",
      "info": "Describe the video content for accessibility. Leave blank to use the heading text."
    },
    {
      "type": "header",
      "content": "Video Caption (Optional)"
    },
    {
      "type": "checkbox",
      "id": "show_video_caption",
      "label": "Enable Video Caption",
      "default": false,
      "info": "Display a visible caption below the video"
    },
    {
      "type": "text",
      "id": "video_caption",
      "label": "Caption Text",
      "placeholder": "Enter video caption...",
      "info": "Caption text - only appears when caption is enabled above"
    },
    {
      "type": "select",
      "id": "video_caption_style",
      "label": "Caption Visual Style",
      "options": [
        {"value": "subtle", "label": "Subtle (italic, faded)"},
        {"value": "prominent", "label": "Prominent (bold, border)"},
        {"value": "overlay", "label": "Overlay on Video"}
      ],
      "default": "subtle",
      "info": "Visual appearance - only applies when caption is enabled"
    },
    {
      "type": "header",
      "content": "Typography"
    },
    {
      "type": "font_picker",
      "id": "heading_font",
      "label": "Heading Font",
      "default": "assistant_n4"
    },
    {
      "type": "range",
      "id": "heading_size",
      "label": "Heading Size",
      "min": 16,
      "max": 72,
      "step": 1,
      "unit": "px",
      "default": 32
    },
    {
      "type": "select",
      "id": "heading_weight",
      "label": "Heading Weight",
      "options": [
        {"value": "400", "label": "Normal (400)"},
        {"value": "700", "label": "Bold (700)"}
      ],
      "default": "700"
    },
    {
      "type": "font_picker",
      "id": "body_font",
      "label": "Body Font",
      "default": "assistant_n4"
    },
    {
      "type": "range",
      "id": "body_size",
      "label": "Body Size",
      "min": 12,
      "max": 28,
      "step": 1,
      "unit": "px",
      "default": 16
    },
    {
      "type": "select",
      "id": "body_weight",
      "label": "Body Weight",
      "options": [
        {"value": "400", "label": "Normal (400)"},
        {"value": "700", "label": "Bold (700)"}
      ],
      "default": "400"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color",
      "default": "#000000"
    },
    {
      "type": "select",
      "id": "text_align",
      "label": "Text Alignment",
      "options": [
        {"value": "left", "label": "Left"},
        {"value": "center", "label": "Center"},
        {"value": "right", "label": "Right"},
        {"value": "justify", "label": "Justify"}
      ],
      "default": "left"
    },
    {
      "type": "select",
      "id": "text_max_width",
      "label": "Text Max Width",
      "options": [
        {"value": "none", "label": "Full Width"},
        {"value": "36ch", "label": "Narrow (36ch)"},
        {"value": "48ch", "label": "Medium (48ch)"},
        {"value": "65ch", "label": "Wide (65ch)"}
      ],
      "default": "none",
      "info": "Limit text width for better readability"
    },
    {
      "type": "header",
      "content": "Smart Typography Scaling"
    },
    {
      "type": "checkbox",
      "id": "enable_smart_scaling",
      "label": "Enable Smart Font Scaling",
      "default": true,
      "info": "Automatically adjust font sizes based on available container space"
    },
    {
      "type": "range",
      "id": "heading_scale_ratio",
      "label": "Heading Scale Ratio",
      "min": 100,
      "max": 200,
      "step": 10,
      "unit": "%",
      "default": 120,
      "info": "How much larger headings scale in bigger containers (100% = no scaling)"
    },
    {
      "type": "range",
      "id": "min_font_size",
      "label": "Minimum Font Size",
      "min": 12,
      "max": 18,
      "step": 1,
      "unit": "px",
      "default": 14,
      "info": "Smallest font size allowed when scaling down"
    },
    {
      "type": "header",
      "content": "Layout Configuration"
    },
    {
      "type": "select",
      "id": "layout_style",
      "label": "Overall Layout",
      "options": [
        {"value": "side_by_side", "label": "Side by Side - Classic horizontal layout"},
        {"value": "stacked", "label": "Stacked - Vertical arrangement"},
        {"value": "overlay", "label": "Text Overlay - Text positioned over video"},
        {"value": "floating", "label": "Floating - Flexible positioned content"},
        {"value": "grid_equal", "label": "Equal Grid - Balanced 2-column grid"},
        {"value": "grid_video_large", "label": "Video Prominent - 2:1 video focus"},
        {"value": "grid_text_large", "label": "Text Prominent - 1:2 text focus"},
        {"value": "grid_magazine", "label": "Magazine - Editorial spanning layout"},
        {"value": "grid_asymmetric", "label": "Asymmetric - Golden ratio proportions"},
        {"value": "grid_custom", "label": "Custom Grid - Configurable columns"}
      ],
      "default": "side_by_side",
      "info": "üéØ CHOOSE YOUR LAYOUT: Side by Side & Stacked = flexible positioning, Overlay = text over video, Grid layouts = structured columns. Each layout type uses different positioning settings below."
    },
    {
      "type": "header",
      "content": "Fine-Tune Layout Positioning (Settings below apply differently based on your layout choice above)"
    },
    {
      "type": "range",
      "id": "custom_grid_columns",
      "label": "Custom Grid Columns (Custom Grid Only)",
      "min": 2,
      "max": 4,
      "step": 1,
      "default": 2,
      "info": "‚ö†Ô∏è ONLY APPLIES TO: Custom Grid layout. Ignored by all other layout types."
    },
    {
      "type": "select",
      "id": "grid_aspect_ratio",
      "label": "Grid Cell Aspect Ratio (Grid Layouts Only)",
      "options": [
        {"value": "auto", "label": "Auto - Content Height"},
        {"value": "1-1", "label": "Square (1:1)"},
        {"value": "4-3", "label": "Standard (4:3)"},
        {"value": "16-9", "label": "Widescreen (16:9)"},
        {"value": "3-2", "label": "Photo (3:2)"}
      ],
      "default": "auto",
      "info": "‚ö†Ô∏è ONLY APPLIES TO: Grid layouts (Equal Grid, Custom Grid). Forces uniform cell heights."
    },
    {
      "type": "select",
      "id": "video_position",
      "label": "Video Position",
      "options": [
        {"value": "left", "label": "Left (Side by Side & Stacked)"},
        {"value": "center", "label": "Center (All Layouts)"},
        {"value": "right", "label": "Right (Side by Side & Stacked)"},
        {"value": "top", "label": "Top (Stacked Only)"},
        {"value": "bottom", "label": "Bottom (Stacked Only)"}
      ],
      "default": "left",
      "info": "Video position - only applies to Side by Side and Stacked layouts. Grid layouts use their own positioning."
    },
    {
      "type": "select",
      "id": "text_position",
      "label": "Text Position",
      "options": [
        {"value": "left", "label": "Left (Flexbox Layouts)"},
        {"value": "center", "label": "Center (All Layouts)"},
        {"value": "right", "label": "Right (Flexbox Layouts)"},
        {"value": "top", "label": "Top (Stacked Layouts)"},
        {"value": "bottom", "label": "Bottom (Stacked Layouts)"},
        {"value": "overlay_top", "label": "Overlay Top (Overlay Layout)"},
        {"value": "overlay_center", "label": "Overlay Center (Overlay Layout)"},
        {"value": "overlay_bottom", "label": "Overlay Bottom (Overlay Layout)"}
      ],
      "default": "right",
      "info": "Text position - applies differently based on layout style. Grid layouts ignore this setting."
    },
    {
      "type": "select",
      "id": "mobile_layout",
      "label": "Mobile Layout Override",
      "options": [
        {"value": "inherit", "label": "Inherit - Keep desktop layout (grid-friendly)"},
        {"value": "stack_text_first", "label": "Stack - Text First (recommended)"},
        {"value": "stack_video_first", "label": "Stack - Video First"},
        {"value": "overlay_bottom", "label": "Overlay - Text at Bottom"}
      ],
      "default": "stack_text_first",
      "info": "How layout adapts on mobile - Stack options convert all layouts to flexbox, Inherit preserves grids but makes them single-column"
    },
    {
      "type": "range",
      "id": "gap",
      "label": "Gap Between Elements",
      "min": 0,
      "max": 80,
      "step": 4,
      "unit": "px",
      "default": 24,
      "info": "Universal spacing for all layout types - works for flexbox, grid, and overlay layouts"
    },
    {
      "type": "select",
      "id": "vertical_align",
      "label": "Vertical Alignment",
      "options": [
        {"value": "start", "label": "Top - Align to top"},
        {"value": "center", "label": "Center - Vertically centered"},
        {"value": "end", "label": "Bottom - Align to bottom"},
        {"value": "stretch", "label": "Stretch - Fill available height"}
      ],
      "default": "start",
      "info": "How content aligns vertically within the container - works with all layout types"
    },
    {
      "type": "header",
      "content": "Video Settings"
    },
    {
      "type": "video",
      "id": "video_file",
      "label": "Video File",
      "info": "Upload a video file from your Shopify Files"
    },
    {
      "type": "image_picker",
      "id": "video_poster",
      "label": "Video Poster Image",
      "info": "Image shown before video plays"
    },
    {
      "type": "checkbox",
      "id": "autoplay",
      "label": "Autoplay Video",
      "default": false,
      "info": "Video will be muted for compliance when autoplay is enabled"
    },
    {
      "type": "checkbox",
      "id": "show_controls",
      "label": "Show Video Controls",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "loop",
      "label": "Loop Video",
      "default": false
    },
    {
      "type": "text",
      "id": "video_transcript_url",
      "label": "Video Transcript URL",
      "info": "Link to full transcript for accessibility compliance (VTT format recommended)",
      "placeholder": "https://example.com/transcript.vtt"
    },
    {
      "type": "select",
      "id": "aspect_ratio",
      "label": "Video Aspect Ratio",
      "options": [
        {"value": "16-9", "label": "16:9 (Widescreen)"},
        {"value": "4-3", "label": "4:3 (Standard)"},
        {"value": "1-1", "label": "1:1 (Square)"},
        {"value": "21-9", "label": "21:9 (Cinematic)"},
        {"value": "custom", "label": "Custom Ratio"}
      ],
      "default": "16-9"
    },
    {
      "type": "range",
      "id": "custom_ratio_w",
      "label": "Custom Ratio Width",
      "min": 1,
      "max": 100,
      "step": 1,
      "default": 16,
      "info": "Only used when Custom Ratio is selected"
    },
    {
      "type": "range",
      "id": "custom_ratio_h",
      "label": "Custom Ratio Height",
      "min": 1,
      "max": 100,
      "step": 1,
      "default": 9,
      "info": "Only used when Custom Ratio is selected"
    },
    {
      "type": "select",
      "id": "video_rounding",
      "label": "Video Corner Rounding",
      "options": [
        {"value": "none", "label": "None"},
        {"value": "sm", "label": "Small"},
        {"value": "md", "label": "Medium"},
        {"value": "lg", "label": "Large"}
      ],
      "default": "none"
    },
    {
      "type": "header",
      "content": "Background"
    },
    {
      "type": "video",
      "id": "bg_video",
      "label": "Background Video",
      "info": "Full-screen background video (highest priority)"
    },
    {
      "type": "image_picker",
      "id": "bg_image",
      "label": "Background Image",
      "info": "Used if no background video is set"
    },
    {
      "type": "color",
      "id": "bg_color",
      "label": "Background Color",
      "default": "transparent",
      "info": "Fallback color when no video or image is set"
    },
    {
      "type": "select",
      "id": "bg_size",
      "label": "Background Size",
      "options": [
        {"value": "full_screen", "label": "Full Screen"},
        {"value": "half_screen", "label": "Half Screen"},
        {"value": "section_only", "label": "Section Only"},
        {"value": "custom", "label": "Custom Height"}
      ],
      "default": "section_only",
      "info": "How large the background should be"
    },
    {
      "type": "range",
      "id": "bg_custom_height",
      "label": "Custom Background Height",
      "min": 200,
      "max": 1000,
      "step": 20,
      "unit": "px",
      "default": 400,
      "info": "Only used when Custom Height is selected"
    },
    {
      "type": "select",
      "id": "bg_position",
      "label": "Background Position",
      "options": [
        {"value": "center center", "label": "Center"},
        {"value": "top center", "label": "Top"},
        {"value": "bottom center", "label": "Bottom"},
        {"value": "left center", "label": "Left"},
        {"value": "right center", "label": "Right"}
      ],
      "default": "center center",
      "info": "Position of background image/video"
    },
    {
      "type": "select",
      "id": "bg_blend_mode",
      "label": "Background Blend Effect",
      "options": [
        {"value": "normal", "label": "Normal - No Blending"},
        {"value": "multiply", "label": "Multiply - Darker Blend"},
        {"value": "overlay", "label": "Overlay - Balanced Contrast"},
        {"value": "soft-light", "label": "Soft Light - Subtle Blend"},
        {"value": "hard-light", "label": "Hard Light - Strong Contrast"},
        {"value": "color-dodge", "label": "Color Dodge - Bright Highlights"},
        {"value": "color-burn", "label": "Color Burn - Rich Shadows"}
      ],
      "default": "normal",
      "info": "Creative blending of background with content for artistic effects"
    },
    {
      "type": "range",
      "id": "bg_overlay_opacity",
      "label": "Background Overlay Opacity",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "%",
      "default": 0,
      "info": "Add a semi-transparent overlay to backgrounds for better text readability"
    },
    {
      "type": "color",
      "id": "bg_overlay_color",
      "label": "Background Overlay Color",
      "default": "#000000",
      "info": "Color of the background overlay when opacity is above 0%"
    },
    {
      "type": "header",
      "content": "Interactive Effects (Optional)"
    },
    {
      "type": "checkbox",
      "id": "enable_hover_effects",
      "label": "Enable Hover Effects",
      "default": true,
      "info": "Add subtle interactive effects when users hover over elements"
    },
    {
      "type": "select",
      "id": "video_hover_effect",
      "label": "Video Interaction Style",
      "options": [
        {"value": "none", "label": "None - No Effect"},
        {"value": "scale", "label": "Scale - Gentle Zoom"},
        {"value": "lift", "label": "Lift - Raised with Shadow"},
        {"value": "glow", "label": "Glow - Soft Light Effect"},
        {"value": "blur_focus", "label": "Focus - Blur to Sharp"},
        {"value": "brightness", "label": "Brighten - Subtle Highlight"}
      ],
      "default": "scale",
      "info": "Interactive effect - only applies when hover effects are enabled"
    },
    {
      "type": "select",
      "id": "text_hover_effect",
      "label": "Text Interaction Style",
      "options": [
        {"value": "none", "label": "None - No Effect"},
        {"value": "fade_highlight", "label": "Highlight - Subtle Background"},
        {"value": "slide_underline", "label": "Underline - Animated Line"},
        {"value": "color_shift", "label": "Color - Theme Accent"},
        {"value": "scale_text", "label": "Scale - Slight Growth"},
        {"value": "glow_text", "label": "Glow - Text Shadow"}
      ],
      "default": "fade_highlight",
      "info": "Interactive effect - only applies when hover effects are enabled"
    },
    {
      "type": "header",
      "content": "Scroll Animations (Optional)"
    },
    {
      "type": "checkbox",
      "id": "enable_scroll_animations",
      "label": "Enable Scroll Animations",
      "default": true,
      "info": "Smoothly animate elements as they come into view while scrolling"
    },
    {
      "type": "select",
      "id": "scroll_animation_style",
      "label": "Animation Entry Style",
      "options": [
        {"value": "fade_in", "label": "Fade In - Simple Appearance"},
        {"value": "slide_up", "label": "Slide Up - From Below"},
        {"value": "slide_left", "label": "Slide Left - From Right"},
        {"value": "slide_right", "label": "Slide Right - From Left"},
        {"value": "zoom_in", "label": "Zoom In - Scale Growth"},
        {"value": "stagger", "label": "Stagger - Sequential Elements"}
      ],
      "default": "fade_in",
      "info": "Animation style - only applies when scroll animations are enabled"
    },
    {
      "type": "range",
      "id": "animation_duration",
      "label": "Animation Duration",
      "min": 300,
      "max": 2000,
      "step": 100,
      "unit": "ms",
      "default": 600,
      "info": "How long animations take to complete"
    },
    {
      "type": "header",
      "content": "Performance Optimization"
    },
    {
      "type": "checkbox",
      "id": "auto_optimize_performance",
      "label": "Auto-Optimize for Performance",
      "default": true,
      "info": "Automatically reduce effects and video quality on slower connections"
    },
    {
      "type": "select",
      "id": "performance_mode",
      "label": "Performance Priority",
      "options": [
        {"value": "auto", "label": "Auto - Detect Connection"},
        {"value": "quality", "label": "Quality - Full Features"},
        {"value": "balanced", "label": "Balanced - Selective Effects"},
        {"value": "speed", "label": "Speed - Minimal Effects"}
      ],
      "default": "auto",
      "info": "Choose between visual quality and loading performance"
    },
    {
      "type": "checkbox",
      "id": "preload_critical_media",
      "label": "Preload Critical Media",
      "default": true,
      "info": "Load video poster and first frame early for faster perceived performance"
    },
    {
      "type": "header",
      "content": "Spacing & Size"
    },
    {
      "type": "range",
      "id": "padding_y",
      "label": "Vertical Padding",
      "min": 0,
      "max": 96,
      "step": 2,
      "unit": "px",
      "default": 40
    },
    {
      "type": "range",
      "id": "padding_x",
      "label": "Horizontal Padding",
      "min": 0,
      "max": 64,
      "step": 2,
      "unit": "px",
      "default": 20
    },
    {
      "type": "range",
      "id": "content_max_width_px",
      "label": "Maximum Content Width",
      "min": 480,
      "max": 1600,
      "step": 20,
      "unit": "px",
      "default": 1200,
      "info": "Maximum width of the entire component"
    },
    {
      "type": "select",
      "id": "align_block",
      "label": "Block Alignment",
      "options": [
        {"value": "start", "label": "Left"},
        {"value": "center", "label": "Center"},
        {"value": "end", "label": "Right"}
      ],
      "default": "center",
      "info": "Horizontal alignment of the entire block"
    }
  ],
  "presets": [
    {
      "name": "Video + Text (Advanced)",
      "settings": {
        "heading": "Our Story",
        "body": "<p>Watch our journey unfold in this compelling video that tells the story of our brand.</p>"
      }
    }
  ]
}
{% endschema %}